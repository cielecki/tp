{"version":3,"sources":["data/icons/icon_menu.png","data/tokens/token_captain.png","data/tokens/token_monkey.png","data/tokens/token_trooper.png","data/tokens/token_technician.png","data/tokens/token_scientist.png","data/tokens/token_pilot.png","data/tokens/token_artifact.png","data/tokens/token_crystals.png","data/tokens/token_gas_carnister.png","data/tokens/token_gun.png","data/tokens/token_medkit.png","data/tokens/token_munitions.png","data/tokens/token_scanner.png","data/tokens/token_suit.png","data/planets/planets.jpg","data/planets/planets2.jpg","data/planets/planets3.jpg","data/planets/planets4.jpg","data/planets/planets5.jpg","data/planets/planets6.jpg","data/planets/planets7.jpg","data/planets/planets8.jpg","data/planets/planets9.jpg","data/planets/planets10.jpg","data/planets/planets11.jpg","data/planets/planets12.jpg","data/planets/planets13.jpg","data/planets/planets14.jpg","data/planets/planets15.jpg","data/planets/planets16.jpg","data/planets/planets17.jpg","data/planets/planets18.jpg","data/planets/planets19.jpg","data/planets/planets20.jpg","data/planets/planets21.jpg","data/planets/planets22.jpg","data/planets/planets23.jpg","data/planets/planets24.jpg","data/cards/datalogs.jpg","data/cards/datalogs2.jpg","data/cards/datalogs3.jpg","data/cards/datalogs4.jpg","data/cards/datalogs5.jpg","data/cards/datalogs6.jpg","data/cards/datalogs7.jpg","data/cards/datalogs8.jpg","data/cards/datalogs9.jpg","data/cards/datalogs10.jpg","data/cards/datalogs11.jpg","data/cards/datalogs12.jpg","data/cards/datalogs13.jpg","data/cards/datalogs14.jpg","data/cards/datalogs15.jpg","data/cards/datalogs16.jpg","data/cards/datalogs17.jpg","data/cards/datalogs18.jpg","data/cards/datalogs19.jpg","data/cards/datalogs20.jpg","data/cards/datalogs30.jpg","data/cards/datalogs31.jpg","data/cards/datalogs21.jpg","data/cards/datalogs22.jpg","data/cards/datalogs23.jpg","data/cards/datalogs24.jpg","data/cards/datalogs25.jpg","data/cards/datalogs26.jpg","data/cards/datalogs27.jpg","data/cards/datalogs28.jpg","data/cards/datalogs29.jpg","data/planets/planets28.jpg","misc/AR.js","misc/Utils.js","misc/Serialisation.js","components/Dialog.js","game/Exploration.js","components/EntityDetails.js","game/ZoneType.js","data/zones.js","game/Zone.js","game/Filter.js","game/Story.js","game/Resource.js","data/resources.js","components/Icon.js","exploration/environment.js","exploration/dataLogs.js","game/Entity.js","game/DataLog.js","data/planets.js","data/traits.js","exploration/resource.js","exploration/alienSpecies.js","exploration/genesis.js","exploration/logs.js","exploration/spaceStation.js","game/Universe.js","components/Scanner.js","components/UniverseInfo.js","components/EntityList.js","components/TauPrimeMenu.js","components/App.js","misc/serviceWorker.js","index.js"],"names":["module","exports","__webpack_require__","p","AR","NUM_MARKERS","markers","animationFrame","lastTimeMsec","doUpdate","animate","nowMsec","requestAnimationFrame","deltaMsec","Math","min","setEnabledCamera","enabled","document","querySelector","removeAttribute","cancelAnimationFrame","setAttribute","getCurrentMarkerVisibility","visibility","i","object3d","visible","initializeAR","renderer","window","THREE","WebGLRenderer","alpha","setClearColor","Color","setSize","innerWidth","innerHeight","domElement","style","position","top","left","body","appendChild","scene","Scene","camera","Camera","add","arToolkitSource","THREEx","ArToolkitSource","sourceType","onResize","onResizeElement","copyElementSizeTo","arToolkitContext","arController","canvas","otherElement","getElementById","height","marginTop","init","addEventListener","ArToolkitContext","cameraParametersUrl","baseURL","detectionMode","debug","matrixCodeType","maxDetectionRate","canvasWidth","canvasHeight","projectionMatrix","copy","getProjectionMatrix","markerRoot","Group","ArMarkerControls","type","barcodeValue","ready","update","render","chance","Chance","shuffle","array","temporaryValue","randomIndex","currentIndex","length","floor","random","getRandomInt","max","getRandomElement","console","assert","getWeightedRandomElement","arr","weightAttribute","arguments","undefined","sumOfWeights","reduce","sum","obj","Number","isNaN","error","speak","text","log","responsiveVoice","haveCommonElement","arr1","arr2","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_step","_iterator","Symbol","iterator","next","done","e1","value","indexOf","err","return","arrayUnion","array1","array2","a","concat","j","splice","arrayUnique","Object","toConsumableArray","arrayIntersection","filter","n","ensureArrayOrNull","typeCheck","Array","isArray","forEach","element","prototype","peek","this","REGISTERED_STATIC_CLASSES","Set","REGISTERED_DYNAMIC_CLASSES","STATIC_OBJECT_REPOSITORY","registerStaticClass","classObject","has","registerDynamicClass","classId","registerStaticObject","id","classes","_iteratorNormalCompletion2","_didIteratorError2","_iteratorError2","_step2","_iterator2","isInstanceOfAny","serialize","JSON","stringify","name","_so","_arr","entries","_i","_ref3","_ref2","slicedToArray","data","from","objectSpread","_do","constructor","StaticObject","_ref4","_ref4$id","classCallCheck","Dialog","props","voice","result","buttonComponents","buttons","map","buttonDefinition","index","react_default","createElement","key","onClick","className","React","Component","exploreAndReturnToScanner","zone","markExplored","App","COMPONENT","setAction","planet","isFullyExplored","onFullyExplored","returnToScanner","Exploration","_ref","_ref$providedResource","providedResources","_ref$requiredResource","requiredResources","res","Fragment","assign","calculate","Dialog_Dialog","StaticExploration","_Exploration","_this","_ref2$providedResourc","_ref2$requiredResourc","config","objectWithoutProperties","possibleConstructorReturn","getPrototypeOf","call","_calculate","assertThisInitialized","inherits","createClass","Serialisation","EntityDetails","planetData","info","surfaceZones","src","image","alt","clear","onReset","ZoneType","_StaticObject","plural","conf","ZONE_TYPE_OCEAN","ZONE_TYPE_RIVER","ZONE_TYPE_VALLEY","ZONE_TYPE_PLAINS","ZONE_TYPE_DESERT","ZONE_TYPE_CITY","ZONE_TYPE_NEST","ZONE_TYPE_MOUNTAIN","ZONE_TYPE_CRATER","ZONE_TYPE_FOREST","ZONE_TYPE_CLOUD","ZONE_TYPE_GLACIER","ZONE_TYPE_CONTAINER","ZONE_TYPE_EXPLORED","ZONE_TYPES","Zone","planetId","zoneLocation","_ref$exploration","exploration","_ref$visible","onExploration","canBeScanned","onExplorationDialog","Universe","notifyThatUniverseChanged","theUniverse","planets","universe","definition","scanningRestrictions","isAcceptable","zoneType","Filter","_ref$includedPlanetTr","includedPlanetTraits","_ref$excludedPlanetTr","excludedPlanetTraits","_ref$includedZoneType","includedZoneTypes","_ref$excludedZoneType","excludedZoneTypes","_ref$allowedColumns","allowedColumns","_ref$allowedRows","allowedRows","_ref$customFilter","customFilter","_ref$allowedBeforeExp","allowedBeforeExploration","_ref$allowedOnSurface","allowedOnSurface","_ref$allowedAfterExpl","allowedAfterExploration","subArray","ensureArrayOfArraysOrNull","trait","zoneTypes","_ref2$zoneLocation","_ref2$zoneType","_ref2$universe","_ref2$planet","traits","planetZoneTypes","zoneTypeWeights","weight","ZONE_LOCATION_BEFORE_EXPLORATIONS","ZONE_LOCATION_AFTER_EXPLORATIONS","column","row","filters","configuration","_loop","mergeToConf","attribute","mergeFunction","first","second","v1","v2","slice","Story","_ref$weight","_ref$filter","calculateWeight","zoneBuilder","getAvailableZoneType","RESOURCES","Resource","_ref$stashesFilter","stashesFilter","_ref$isCrew","isCrew","_ref$isEquipment","isEquipment","push","RESOURCE_A","token_crystals","RESOURCE_B","token_gas_canister","RESOURCE_D","token_artifact","EQUIPMENT_GUN","token_gun","EQUIPMENT_MEDKIT","token_medkit","EQUIPMENT_SCANNER","token_munitions","token_scanner","EQUIPMENT_SUIT","token_suit","CREW_CAPTAIN","token_captain","CREW_MONKEY","token_monkey","CREW_TECHNICIAN","token_trooper","token_technician","CREW_SCIENTIST","token_scientist","CREW_PILOT","token_pilot","Icon","count","exhaustTo","object","to","Icon_Icon","exhaustOnShipTo","exhaustEnvironSuitToSaveInSuits","EXPLORATION_NOTHING","randomResource","FullyExploredExploration","esm_extends","dataLog","dataLogs","SimpleBeforeExploration","_Exploration2","selectObject","EXPLORATION_METEOR_SHOWER","EXPLORATION_FROZE_TO_DEATH","EXPLORATION_EXTREME_HEAT","EXPLORATION_POISONOUS_PLANTS","EXPLORATION_TOXIC_VAPOURS","EXPLORATION_VOLCANO","FireExploration","_Exploration3","MagnesiumExploration","_Exploration4","riskIt","probability","toLowerCase","createDataLogResultVoiceButtons","reason","onOK","remainingDataLogCards","pop","DataLogExploration","_ref2$reason","ZONE_CANDIDATE_PRIORITY_MUST","ZONE_CANDIDATE_PRIORITY_FLEX","Entity","_ref$id","_ref$name","_ref$image","get","Planet","_Entity","_ref2$traits","_ref2$beforeExplorati","beforeExplorationsZone","_ref2$afterExploratio","afterExplorationsZone","_ref2$surfaceZones","targetSize","_ref2$zoneTypeWeights","surfaceZoneCandidates","getZone","Utils","EntityDetails_EntityDetails","nextItem","defineProperty","availableZoneDistribution","zoneWithWeight","possibleZoneLocations","zoneLocations","_ref4$count","_ref4$priority","priority","_ref4$zoneTypes","_ref4$visible","_this2","zones","_ref5","addCandidate","_ref6","_ref6$count","_ref6$zoneTypes","_ref6$visible","_iteratorNormalCompletion3","_didIteratorError3","_iteratorError3","_step3","_iterator3","zoneCandidate","_iteratorNormalCompletion4","_didIteratorError4","_iteratorError4","_step4","_iterator4","ScientistDataLogEntity","_Entity2","_createDataLogResultV","DATA_LOG_SETS","DataLog","fill","_ref$canBeFound","canBeFound","_ref$setIds","setIds","registerDataLog","isInDataSets","dataSets","areInSameDataSetAs","dataSetsContainingDataLog","values","dataSet","PLANET_ARCHETYPES","names","planets1","minSurfaceZones","maxSurfaceZones","planets2","planets3","planets4","planets5","planets6","planets7","planets8","planets9","planets10","planets11","planets12","planets13","planets14","planets15","planets16","planets17","planets18","planets19","planets20","planets21","planets22","planets23","planets24","ResourceExploration","resource","_ref$count","Serialization","SpeciesInfo","SPECIES_ROBOTS","SPECIES_BUGS","SPECIES_INTELLIGENT_LIFE","SharingSpeciesExploration","species","TradingSpeciesExploration","_this3","tradingResource","_ref3$tradingResource","tradingResourceCount","HostileSpeciesExploration","_this4","survivalPower","GenesisDeviceActiveExploration","codes","theCode","codeButtons","code","GenesisDeviceInActiveExploration","GenesisBeaconExploration","genesisDevice","genesis","device","DATA_LOGS_CODE_FRAGMENTS","dataLogImage21","fillGenesis","dataLogImage22","dataLogImage23","dataLogImage24","dataLogImage25","dataLogImage26","dataLogImage27","dataLogImage28","dataLogImage29","fillZoneCandidates","minTotal","maxTotal","fillZoneCandidatesWithDistribution","explorationCreator","countFrequencies","1","2","3","dataLogImage2","common","surfaceMinRatio","dataLogImage3","dataLogImage4","dataLogImage5","dataLogImage6","surfaceMaxRatio","dataLogImage7","dataLogImage8","dataLogImage1","DATA_LOG_HIGH_VOLCANIC","dataLogImage9","dataLogImage10","dataLogImage11","dataLogImage12","dataLogImage13","dataLogImage14","dataLogImage15","dataLogImage16","dataLogImage17","dataLogImage19","dataLogImage20","dataLogImage18","dataLogImage30","dataLogImage31","SpaceStationEntity","_ref$dataLog","planets28","canBeSelected","_ref$entitiesMap","entitiesMap","_ref$definition","_ref$dataLogs","_ref$remainingDataLog","entity","provided","required","possiblePlanets","_iteratorNormalCompletion5","_didIteratorError5","_iteratorError5","_step5","_iterator5","_iteratorNormalCompletion6","_didIteratorError6","_iteratorError6","_step6","_iterator6","_iteratorNormalCompletion7","_didIteratorError7","_iteratorError7","_step7","_iterator7","matchingZoneLocations","ret","fitness","_iteratorNormalCompletion8","_didIteratorError8","_iteratorError8","_step8","_iterator8","_this$countResource","countResource","word","_iteratorNormalCompletion9","_didIteratorError9","_iteratorError9","_step9","_iterator9","planetArchetype","registerEntity","scientistDataLogEntity","spaceStationEntity","setId","dataLogSet","possibleDataLogs","warn","fillRandomizedDataLogs","fillDataLogCards","fillZoneCandidatesFromLogs","fillDataLogExplorations","fillZones","fillZonesBasedOnCandidates","localStorage","json","parse","candidates","candidate","create","sort","b","f","universeListeners","save","_iteratorNormalCompletion10","_didIteratorError10","_iteratorError10","_step10","_iterator10","l","_ref2$minTotal","params","counts","targetCount","check","size","currentCacheSize","hasOwnProperty","distributeCount","_arr2","_i2","stashSize","numOfStashes","_ref6$surfaceMinRatio","_ref6$surfaceMaxRatio","_ref6$minTotal","_ref6$maxTotal","numExplorations","planetCounts","planetSurfaceMins","planetSurfaceMaxs","_iteratorNormalCompletion11","_didIteratorError11","_iteratorError11","_step11","_iterator11","matchingPlanets","ceil","_iteratorNormalCompletion12","_didIteratorError12","_iteratorError12","_step12","_iterator12","addSurfaceZoneCandidate","_iteratorNormalCompletion13","_didIteratorError13","_iteratorError13","_step13","_iterator13","targetZones","targetNumExplorations","possibleNotAtMax","SCANNER_MODE_LOCKING","DynamicOverlay","state","progress","setState","onRef","background-position-y","backgroundSize","backgroundImage","opacity","Scanner","dynamicOverlay","lockingId","mode","currentId","presence","periodicLoggingTimeout","setTimeout","periodicLogging","arTickTimeout","arTick","dt","markerVisibility","maxPresence","maxId","minDifference","entityForId","setProgress","setLockingId","clearTimeout","selectEntity","objectId","onObjectSelected","lockingInfo","onSetAction","TauPrimeMenu_TauPrimeMenu","newGame","onNewGame","icon_menu","Scanner_DynamicOverlay","ref","UniverseInfo","join","float","width","EntityList","entities","react","onSelectedEntity","TauPrimeMenu","EntityList_EntityList","entityId","UniverseInfo_UniverseInfo","load","alert","selectBestUniverse","images","Image","printUniverseInfo","addTheUniverseListener","universeUpdatedTrigger","currentlyDisplayedAction","resources","notifyThatWasSelected","action","Scanner_Scanner","Boolean","location","hostname","match","ReactDOM","App_App","navigator","serviceWorker","then","registration","unregister"],"mappings":"mFAAAA,EAAAC,QAAA,8dCAAD,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,8DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,yDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,4DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,iECAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,0DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,6DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,2DCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,wDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,qDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,sDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,EAAuB,uDCAxCH,EAAAC,QAAiBC,EAAAC,E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","file":"static/js/main.0aa4dcea.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIAAgMAAACJFjxpAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAMUExURUdwTP///////////waf0AoAAAADdFJOUwCAv5or8ogAAADHSURBVHja7duhDgAgCEBBmp/tT5vF6txsbhjuKuV1IAIAAAAAAAAAAAAAAICftDzNbdrzkSFAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIEOBSAwAAAAAAAIAr23MBAgQIECBAgAABAgQIECBAgAABAgQIECBAgAABAgQIECBAgOd3AAAAAAAAAMrZngsQIECAAAECBAgQIECAAAECBAgQIECAAAECBAgQIECAAAECPL8DAAAAAAAAAAAAAABUWM18bKnDf7a7AAAAAElFTkSuQmCC\"","module.exports = __webpack_public_path__ + \"static/media/token_captain.b5e9853c.png\";","module.exports = __webpack_public_path__ + \"static/media/token_monkey.de704cf6.png\";","module.exports = __webpack_public_path__ + \"static/media/token_trooper.24093029.png\";","module.exports = __webpack_public_path__ + \"static/media/token_technician.e916112b.png\";","module.exports = __webpack_public_path__ + \"static/media/token_scientist.d2b6c4be.png\";","module.exports = __webpack_public_path__ + \"static/media/token_pilot.d284d864.png\";","module.exports = __webpack_public_path__ + \"static/media/token_artifact.77a10a0b.png\";","module.exports = __webpack_public_path__ + \"static/media/token_crystals.0b867aea.png\";","module.exports = __webpack_public_path__ + \"static/media/token_gas_carnister.4a1cbf80.png\";","module.exports = __webpack_public_path__ + \"static/media/token_gun.95e69d22.png\";","module.exports = __webpack_public_path__ + \"static/media/token_medkit.eb246424.png\";","module.exports = __webpack_public_path__ + \"static/media/token_munitions.41d18a10.png\";","module.exports = __webpack_public_path__ + \"static/media/token_scanner.6f7f8715.png\";","module.exports = __webpack_public_path__ + \"static/media/token_suit.7046d431.png\";","module.exports = __webpack_public_path__ + \"static/media/planets.951c4e83.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets2.9fc9d507.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets3.aa91287f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets4.f0ca061a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets5.7565681d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets6.76b596b6.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets7.5d30d738.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets8.7d292965.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets9.2737f603.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets10.5a370bd5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets11.e63f5dc4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets12.ffe86b67.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets13.3e9395cb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets14.f18caa97.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets15.375def8b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets16.ac673644.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets17.fad6b8de.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets18.7af8e72d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets19.8a8fbe02.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets20.cedfe5ec.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets21.8d04b1f5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets22.b2f8ce0e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets23.29ee1f4d.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets24.3fc2883b.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs.1aea764f.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs2.20be02f5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs3.e16bd0f8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs4.90601ba8.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs5.c3222b7e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs6.0c5d2d06.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs7.c6f1a8e7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs8.9e160fc1.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs9.21c180a5.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs10.9a4d01f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs11.6a7fb705.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs12.802897cb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs13.610f1da7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs14.565902f4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs15.614f5adf.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs16.c73c274a.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs17.a28c1d45.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs18.dc3385fd.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs19.23f23162.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs20.0ffdfe7c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs30.91000d13.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs31.e1797177.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs21.7828af9c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs22.d739ec92.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs23.817650f7.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs24.685e427e.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs25.18453163.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs26.9de1e0b4.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs27.af1506fb.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs28.ff51ff74.jpg\";","module.exports = __webpack_public_path__ + \"static/media/datalogs29.41ed439c.jpg\";","module.exports = __webpack_public_path__ + \"static/media/planets28.85ff0e54.jpg\";","export const AR = {};\n\n\n(function () {\n  AR.NUM_MARKERS = 64;\n  let cameraIsEnabled = false;\n  let markers = [];\n  \n  let animationFrame = 0;\n  let lastTimeMsec = null;\n  let doUpdate = null;\n\n  function animate(nowMsec) {\n    animationFrame = requestAnimationFrame(animate);\n    \n    // measure time\n    lastTimeMsec  = lastTimeMsec || nowMsec-1000/60;\n    let deltaMsec = Math.min(200, nowMsec - lastTimeMsec);\n    lastTimeMsec  = nowMsec;\n\n    if (doUpdate) {\n      doUpdate(deltaMsec / 1000);\n    }\n  }\n\n  AR.setEnabledCamera = function(enabled) {\n    cameraIsEnabled = enabled;\n\n    if (cameraIsEnabled) {\n      document.querySelector(\"body>canvas\") && document.querySelector(\"body>canvas\").removeAttribute(\"class\");\n      document.querySelector(\"body>video\") && document.querySelector(\"body>video\").removeAttribute(\"class\");\n      cancelAnimationFrame(animationFrame);\n      animationFrame = requestAnimationFrame(animate);\n    } else {\n      document.querySelector(\"body>canvas\") && document.querySelector(\"body>canvas\").setAttribute(\"class\", \"hidden-canvas\");\n      document.querySelector(\"body>video\") && document.querySelector(\"body>video\").setAttribute(\"class\", \"hidden-canvas\");\n      cancelAnimationFrame(animationFrame);\n      animationFrame = 0;\n    }\n  };\n\n  AR.getCurrentMarkerVisibility = function() {\n    let visibility = {};\n\n    for (let i = 0; i < AR.NUM_MARKERS; i++) {\n      visibility[i] = markers[i].object3d.visible;\n    }\n\n    return visibility;\n  };\n\n  //\n  // Modifying the library function to inverse colors\n  //\n  /*ARController.prototype._copyImageToHeap = function(image) {\n    if (!image) {\n      image = this.image;\n    }\n\n    if( (image.nodeName === 'IMG' && image.width > image.height ) ||\n      (image.nodeName === 'VIDEO' && image.videoWidth > image.videoHeight) ){\n      // if landscape\n      this.ctx.drawImage(image, 0, 0, this.canvas.width, this.canvas.height); // draw video\n    }else{\n      // if portrait\n      this.ctx.clearRect(0, 0, this.canvas.width, this.canvas.height);\n      var scale = this.canvas.height / this.canvas.width;\n      var scaledHeight = this.canvas.width*scale;\n      var scaledWidth = this.canvas.height*scale;\n      var marginLeft = ( this.canvas.width - scaledWidth)/2;\n      this.ctx.drawImage(image, marginLeft, 0, scaledWidth, scaledHeight); // draw video\n    }\n\n    var imageData = this.ctx.getImageData(0, 0, this.canvas.width, this.canvas.height);\n    var data = imageData.data;\n\n    //\n    // Modification start\n    //\n    for(var q=0; q < data.length; q += 4){\n      data[q+0] = 255 - data[q+0];\n      data[q+1] = 255 - data[q+1];\n      data[q+2] = 255 - data[q+2];\n    }\n    //\n    // Modification end\n    //\n\n    if (this.dataHeap) {\n      this.dataHeap.set( data );\n      return true;\n    }\n    return false;\n  };*/\n\n  AR.initializeAR = function () {\n    let renderer  = new window.THREE.WebGLRenderer({\n      // antialias  : true,\n      alpha: true\n    });\n\n    renderer.setClearColor(new window.THREE.Color('lightgrey'), 0);\n    renderer.setSize( window.innerWidth, window.innerHeight );\n    renderer.domElement.style.position = 'absolute';\n    renderer.domElement.style.top = '0px';\n    renderer.domElement.style.left = '0px';\n    \n    document.body.appendChild( renderer.domElement );\n\n    let scene = new window.THREE.Scene();\n    let camera = new window.THREE.Camera();\n    scene.add(camera);\n  \n    let arToolkitSource = new window.THREEx.ArToolkitSource({\n      sourceType : 'webcam',   \n    });\n\n    arToolkitSource.init(function onReady(){\n      onResize()\n    });\n  \n    // handle resize\n    window.addEventListener('resize', function(){\n      onResize()\n    });\n\n    function onResize(){\n      arToolkitSource.onResizeElement();\n      arToolkitSource.copyElementSizeTo(renderer.domElement);\n        renderer.domElement.style.position = 'fixed';\n        arToolkitSource.domElement.style.position = 'fixed';\n      if( arToolkitContext.arController !== null ){\n        arToolkitSource.copyElementSizeTo(arToolkitContext.arController.canvas);\n          arToolkitContext.arController.canvas.style.position = 'fixed';\n\n          let otherElement = document.getElementById('root');\n          if (window.innerWidth > window.innerHeight)\n          {\n              //landscape\n              otherElement.style.height = arToolkitSource.domElement.style.height;\n              otherElement.style.marginTop = arToolkitSource.domElement.style.marginTop\n          }\n          else {\n              //portrait\n              otherElement.style.height = arToolkitSource.domElement.style.height;\n              otherElement.style.marginTop = \"0\";\n          }\n      } \n    }\n\n    let arToolkitContext = new window.THREEx.ArToolkitContext({\n      cameraParametersUrl: window.THREEx.ArToolkitContext.baseURL + '../data/data/camera_para.dat',\n      detectionMode: 'mono_and_matrix',\n      debug: false,\n      matrixCodeType: '3x3',\n      maxDetectionRate: 30,\n      canvasWidth: 80*3,\n      canvasHeight: 60*3,\n    });\n\n    // initialize it\n    arToolkitContext.init(function onCompleted(){\n      camera.projectionMatrix.copy( arToolkitContext.getProjectionMatrix() );\n    });\n\n    for (let i = 0; i < AR.NUM_MARKERS; i++) {\n      let markerRoot = new window.THREE.Group();\n      scene.add(markerRoot);\n\n      markers[i] = new window.THREEx.ArMarkerControls(arToolkitContext, markerRoot, {\n        type: 'barcode',\n        barcodeValue: i,\n      })\n    }\n\n    doUpdate = function (/*dt*/) {\n      if(arToolkitSource.ready)\n        arToolkitContext.update(arToolkitSource.domElement);\n      renderer.render(scene, camera);\n    };\n\n    AR.setEnabledCamera(true);\n  }    \n})();\n      ","import Chance from \"chance\";\n\nexport const chance = new Chance();\n\nwindow.Array.prototype.peek = function () {\n    return this[this.length - 1];\n};\n\n/**\n * The de-facto unbiased shuffle algorithm is the Fisher-Yates (aka Knuth) Shuffle.\n * See https://github.com/coolaj86/knuth-shuffle\n */\nexport function shuffle(array) {\n    var currentIndex = array.length, temporaryValue, randomIndex;\n\n    // While there remain elements to shuffle...\n    while (0 !== currentIndex) {\n\n        // Pick a remaining element...\n        randomIndex = Math.floor(Math.random() * currentIndex);\n        currentIndex -= 1;\n\n        // And swap it with the current element.\n        temporaryValue = array[currentIndex];\n        array[currentIndex] = array[randomIndex];\n        array[randomIndex] = temporaryValue;\n    }\n\n    return array;\n}\n\n/**\n * Returns a random number between min (inclusive) and max (exclusive)\n */\nexport function getRandomArbitrary(min, max) {\n    return Math.random() * (max - min) + min;\n}\n\n/**\n * Returns a random integer between min (inclusive) and max (inclusive)\n * Using Math.round() will give you a non-uniform distribution!\n */\nexport function getRandomInt(min, max) {\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n}\n\n/**\n * Returns a random item from array\n */\nexport function getRandomElement(array) {\n    console.assert(array.length > 0, \"Array should not be empty\");\n    return array[Math.floor(Math.random() * array.length)];\n}\n\n/**\n * Returns a random item from array, requires weight attribute on elements\n */\nexport function getWeightedRandomElement(arr, weightAttribute = 'weight') {\n\n    let sumOfWeights = arr.reduce(function (sum, obj) {\n        return sum + obj[weightAttribute];\n    }, 0); //TODO: this could be added to the array ...\n    //console.log(\"sumOfWeights\", sumOfWeights);\n\n    console.assert(!Number.isNaN(sumOfWeights) && typeof sumOfWeights === 'number');\n\n    let random = Math.random() * sumOfWeights;\n    //console.log(\"random\", random);\n\n    for (let i = 0; i < arr.length; i++) {\n        random -= arr[i][weightAttribute];\n        if (random <= 0) {\n            //console.log(\"i\", i);\n            return arr[i];\n        }\n    }\n\n    console.error(\"No element found\", arr, sumOfWeights, random);\n}\n\n\n/**\n *\n */\nexport function speak(text) {\n    console.log(text);\n    window.responsiveVoice.speak(text);\n}\n\n/**\n *\n */\nexport function capitalizeFirst(text) {\n    return text.replace(/^\\w/, c => c.toUpperCase());\n}\n\n/**\n *\n */\nexport function haveCommonElement(arr1, arr2) {\n    for (let e1 of arr1) {\n        if (arr2.indexOf(e1) !== -1) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n/**\n *\n */\nexport function verifyKeyInObject(key, obj) {\n    if (!(key in obj)) {\n        console.error(\"Unknown key\", key, obj)\n    }\n}\n\n/**\n *\n */\nexport function arrayUnique(array) {\n    let a = array.concat();\n    for (let i = 0; i < a.length; ++i) {\n        for (let j = i + 1; j < a.length; ++j) {\n            if (a[i] === a[j])\n                a.splice(j--, 1);\n        }\n    }\n\n    return a;\n}\n\n/**\n *\n * @param array1\n * @param array2\n * @returns {SEA3D.Stream|T[]|string}\n */\nexport function arrayUnion(array1, array2) {\n    return arrayUnique([...array1, ...array2]);\n}\n\n/**\n *\n * @param array1\n * @param array2\n * @returns {*}\n */\nexport function arrayIntersection(array1, array2) {\n    return array1.filter(function (n) {\n        return array2.indexOf(n) !== -1;\n    });\n}\n\n/**\n *\n * @param value\n * @param typeCheck\n * @returns {*}\n */\nexport function ensureArrayOrNull(value, typeCheck = null) {\n    if (value != null) {\n        if (!Array.isArray(value)) {\n            value = [value];\n        }\n\n        if (typeCheck) {\n            value.forEach(function(element) {\n                console.assert(typeCheck(element), \"All elements of an array should be of given type\", value);\n            });\n        }\n    }\n\n    return value;\n}\n\n/**\n *\n * @param value\n * @param typeCheck\n * @returns {*}\n */\nexport function ensureArrayOfArraysOrNull(value, typeCheck = null) {\n    if (value != null) {\n        if (!Array.isArray(value)) {\n            value = [[value]];\n        } else if (Array.isArray(value) && (value.length === 0 || !Array.isArray(value[0]))) {\n            value = [value];\n        }\n\n        if (typeCheck) {\n            value.forEach(function(subArray) {\n                subArray.forEach(function(element) {\n                    console.assert(typeCheck(element), \"All elements of an array should be of given type\", subArray);\n                });\n            });\n        }\n    }\n\n    return value;\n}\n\n\n/**\n *\n * @param targetCount\n * @param countFrequencies\n */\nexport function distributeCount(targetCount, countFrequencies) {\n    let ret = {};\n    let check = ([size, frequency]) => size <= targetCount;\n    while (targetCount > 0) {\n        let possibilities = Object.entries(countFrequencies).filter(check);\n        let currentCacheSize = getWeightedRandomElement(possibilities, 1)[0];\n        targetCount -= currentCacheSize;\n        if (!ret.hasOwnProperty(currentCacheSize)) {\n            ret[currentCacheSize] = 0;\n        }\n        ret[currentCacheSize] += 1;\n    }\n    return ret;\n}\n\nexport function isInstanceOfAny(obj, classes) {\n    for (let classObj of classes) {\n        if (obj instanceof classObj) {\n            return true;\n        }\n    }\n\n    return false;\n}\n","import {isInstanceOfAny} from \"./Utils\";\n\nconst REGISTERED_STATIC_CLASSES = new Set();\nconst REGISTERED_DYNAMIC_CLASSES = {};\nconst STATIC_OBJECT_REPOSITORY = {};\n\nexport function registerStaticClass(classObject) {\n    console.assert(!REGISTERED_STATIC_CLASSES.has(classObject), `Duplicate static class`, classObject);\n    REGISTERED_STATIC_CLASSES.add(classObject);\n}\n\nexport function registerDynamicClass(classObject, classId = null) {\n    console.assert(classId, `Class ID not supplied`, classId, classObject);\n    console.assert(!(classId in REGISTERED_DYNAMIC_CLASSES), `Duplicate classID ${classId} for class`, classObject);\n    REGISTERED_DYNAMIC_CLASSES[classId] = classObject;\n}\n\nexport function registerStaticObject(id, obj) {\n    console.assert(isInstanceOfAny(obj, REGISTERED_STATIC_CLASSES), `Registering a static object without first registering it's class`, id, obj, REGISTERED_STATIC_CLASSES);\n    console.assert(!(id in STATIC_OBJECT_REPOSITORY), `Duplicate ID ${id}`, `existing object`, STATIC_OBJECT_REPOSITORY[id], `new object`, obj);\n    STATIC_OBJECT_REPOSITORY[id] = obj;\n}\n\nexport function serialize(value) {\n    return JSON.stringify(value, function(name, value) {\n        for (let classObject of REGISTERED_STATIC_CLASSES) {\n            if (value instanceof classObject) {\n                return {\n                    _so: value.id,\n                }\n            }\n        }\n\n        for (let [classId, classObject] of Object.entries(REGISTERED_DYNAMIC_CLASSES)) {\n            if (value instanceof classObject) {\n                if (classId === \"Set\") {\n                    value = {data: Array.from(value)};\n                }\n                return {\n                    _do: classId,\n                    ...value\n                }\n            }\n        }\n\n        if (typeof value === 'object' && value !== null) {\n            if (value.constructor !== Array && value.constructor !== Object) {\n                console.error(value, 'is of non registered class', value.constructor);\n            }\n        }\n\n        return value;\n    });\n}\n\nexport function deserialize(json) {\n    return JSON.parse(json, function(name, value) {\n        if (value === null) {\n            return value;\n        }\n\n        if (typeof value === 'object') {\n            if (\"_do\" in value) {\n                let classId = value._do;\n                console.assert(classId in REGISTERED_DYNAMIC_CLASSES, `${classId} is an unknown class id.`);\n\n                if (classId === \"Set\") {\n                    return new REGISTERED_DYNAMIC_CLASSES[classId](value.data);\n                } else {\n                    return new REGISTERED_DYNAMIC_CLASSES[classId](value);\n                }\n            } else if (typeof value === 'object' && \"_so\" in value) {\n                let id = value._so;\n\n                if (id === null) {\n                    return null;\n                }\n\n                console.assert(id in STATIC_OBJECT_REPOSITORY, `Unknown ID ${id}`);\n                return STATIC_OBJECT_REPOSITORY[id];\n            }\n        }\n\n        return value;\n    });\n}\n\nexport class StaticObject {\n    constructor({id = null}) {\n        console.assert(id !== null);\n        this.id = id;\n\n        registerStaticObject(id, this);\n    }\n}\n\nregisterStaticClass(StaticObject);\nregisterDynamicClass(Set, \"Set\");","import React from 'react';\nimport './Dialog.css';\nimport {speak} from \"../misc/Utils\";\n\nexport default class Dialog extends React.Component {\n    render() {\n        speak(this.props.voice ? this.props.voice : this.props.result);\n\n        let buttonComponents = this.props.buttons.map((buttonDefinition, index) =>\n            <button key={index} onClick={() => buttonDefinition.onClick()}>\n                {buttonDefinition.name}\n            </button>\n        );\n\n        return <div className=\"dialog\">\n            <div className=\"dialog-inner\">\n                <div className=\"dialog-content\">{this.props.result}</div>\n                <div className=\"dialog-bottom\">{buttonComponents}</div>\n            </div>\n        </div>\n    };\n}","import React from \"react\";\nimport Dialog from \"../components/Dialog\";\nimport App from '../components/App';\nimport * as Serialisation from \"../misc/Serialisation\";\nimport {registerStaticObject} from \"../misc/Serialisation\";\n\nexport let exploreAndReturnToScanner = (zone) => {\n    zone.markExplored();\n\n    App.COMPONENT.setAction(null);\n\n    if (zone.planet.isFullyExplored) {\n        zone.planet.onFullyExplored();\n    }\n};\n\nexport let returnToScanner = () => {\n    App.COMPONENT.setAction(null);\n};\n\nexport default class Exploration {\n    constructor({providedResources = [], requiredResources = []}) {\n\n        this.providedResources = providedResources;\n        this.requiredResources = requiredResources;\n    }\n\n    calculate(zone) {\n        console.error(\"Not Implemented\");\n    }\n\n    onExplorationDialog(zone) {\n        let res = {\n            result: <React.Fragment>ERROR</React.Fragment>,\n            buttons: [{name: \"OK\", onClick: () => {exploreAndReturnToScanner(zone)}}],\n        };\n\n        Object.assign(res, this.calculate(zone));\n        res.voice = res.voice ? res.voice : res.result;\n\n        return <Dialog result={res.result} voice={res.voice} buttons={res.buttons} />;\n    }\n}\n\nexport class StaticExploration extends Exploration {\n    constructor({id, calculate, providedResources = [], requiredResources = [], ...config} = {}) {\n        super({\n            ...config\n        });\n\n        this.id = id;\n        this.providedResources = providedResources;\n        this.requiredResources = requiredResources;\n        this._calculate = calculate;\n\n        registerStaticObject(id, this);\n    }\n\n    calculate(zone) {\n        return this._calculate(zone);\n    }\n}\n\nSerialisation.registerStaticClass(StaticExploration);","import React from 'react';\nimport './EntityDetails.css';\nimport {returnToScanner} from \"../game/Exploration\";\n\nexport default class EntityDetails extends React.Component {\n    render() {\n        let planet = this.props.planetData;\n\n        let info = planet.surfaceZones.map((zone) => {\n            return zone.render();\n        });\n\n        //<p>Explored {planet.currentDepth}/{planet.levels.length}</p>\n        return <div className=\"dialog\">\n            <div className=\"dialog-inner\">\n                <div className=\"dialog-content\">\n                    <img className=\"detailed-planet-image\" src={planet.image} alt={planet.name} />\n\n                    <h1>{planet.name}</h1>\n                    {info}\n                    <br style={{clear:\"both\"}}/>\n                </div>\n                <div className=\"dialog-bottom\">\n                    <button className=\"not-important\" onClick={this.props.onReset} >Back</button>\n                </div>\n            </div>\n        </div>\n    }\n}","import {StaticObject} from \"../misc/Serialisation\";\n\n\nexport class ZoneType extends StaticObject {\n    constructor({name, plural, ...conf}) {\n        super(conf);\n\n        this.name = name;\n        this.plural = plural;\n    }\n}","import {ZoneType} from \"../game/ZoneType\";\n\nexport const ZONE_TYPE_OCEAN     = new ZoneType({ id: \"ZONE_TYPE_OCEAN\", name: \"Ocean\", plural: \"Oceans\", });\nexport const ZONE_TYPE_RIVER     = new ZoneType({ id: \"ZONE_TYPE_RIVER\", name: \"River\", plural: \"Rivers\"  });\nexport const ZONE_TYPE_VALLEY    = new ZoneType({ id: \"ZONE_TYPE_VALLEY\", name: \"Valley\", plural: \"Valleys\"  });\nexport const ZONE_TYPE_PLAINS    = new ZoneType({ id: \"ZONE_TYPE_PLAINS\", name: \"Plains\", plural: \"Plains\"  });\nexport const ZONE_TYPE_DESERT    = new ZoneType({ id: \"ZONE_TYPE_DESERT\", name: \"Desert\", plural: \"Desert\"  });\nexport const ZONE_TYPE_CITY      = new ZoneType({ id: \"ZONE_TYPE_CITY\", name: \"City\", plural: \"Cities\"  });\nexport const ZONE_TYPE_NEST      = new ZoneType({ id: \"ZONE_TYPE_NEST\", name: \"Nest\", plural: \"Nests\"  });\nexport const ZONE_TYPE_MOUNTAIN  = new ZoneType({ id: \"ZONE_TYPE_MOUNTAIN\", name: \"Mountain\", plural: \"Mountains\"  });\nexport const ZONE_TYPE_CRATER    = new ZoneType({ id: \"ZONE_TYPE_CRATER\", name: \"Crater\", plural: \"Craters\"  });\nexport const ZONE_TYPE_FOREST    = new ZoneType({ id: \"ZONE_TYPE_FOREST\", name: \"Forest\", plural: \"Forests\"  });\nexport const ZONE_TYPE_CLOUD     = new ZoneType({ id: \"ZONE_TYPE_CLOUD\", name: \"Cloud\", plural: \"Clouds\"  });\nexport const ZONE_TYPE_GLACIER   = new ZoneType({ id: \"ZONE_TYPE_GLACIER\", name: \"Glacier\", plural: \"Glaciers\"  });\nexport const ZONE_TYPE_CONTAINER = new ZoneType({ id: \"ZONE_TYPE_CONTAINER\", name: \"Supplies\", plural: \"Supplies\"  });\nexport const ZONE_TYPE_EXPLORED  = new ZoneType({ id: \"ZONE_TYPE_EXPLORED\", name: \"\", plural: \"\" });\n\nexport const ZONE_TYPES = [\n    ZONE_TYPE_OCEAN,\n    ZONE_TYPE_RIVER,\n    ZONE_TYPE_VALLEY,\n    ZONE_TYPE_PLAINS,\n    ZONE_TYPE_DESERT,\n    ZONE_TYPE_CITY,\n    ZONE_TYPE_NEST,\n    ZONE_TYPE_MOUNTAIN,\n    ZONE_TYPE_CRATER,\n    ZONE_TYPE_FOREST,\n    ZONE_TYPE_CLOUD,\n    ZONE_TYPE_GLACIER,\n    ZONE_TYPE_CONTAINER\n]","import React from 'react';\nimport App from '../components/App';\nimport './Zone.css';\nimport * as Serialisation from \"../misc/Serialisation\";\nimport {Universe} from \"./Universe\";\nimport {ZONE_TYPE_EXPLORED} from \"../data/zones\";\n\nexport default class Zone {\n    constructor({planetId, zoneLocation, type, exploration = null, visible = true}) {\n        this.planetId = planetId;\n        this.zoneLocation = zoneLocation;\n        this.type = type;\n        this.exploration = exploration;\n        this.visible = visible;\n    }\n\n    get providedResources() {\n        return this.exploration ? this.exploration.providedResources : [];\n    }\n\n    get requiredResources() {\n        return this.exploration ? this.exploration.requiredResources : [];\n    }\n\n    get planet() {\n        return Universe.theUniverse.planets[this.planetId];\n    }\n\n    render() {\n        return <button\n            key={this.zoneLocation}\n            className={this.exploration ? \"depth-level-\" + (this.zoneLocation + 1) : \"depth-level-excavated\"}\n            onClick={() => {\n                return (this.exploration) ? this.onExploration() : null\n            }}>\n            {this.canBeScanned ? this.name : \"???\"}\n        </button>\n    }\n\n    get name() {\n        return this.type.name;\n    }\n\n    get canBeScanned() {\n        let universe = Universe.theUniverse;\n        let planet = universe.planets[this.planetId];\n\n        if (this.exploration === null) {\n            return true;\n        }\n\n        if (universe.definition.scanningRestrictions &&\n            universe.definition.scanningRestrictions.isAcceptable({planet: planet, zoneLocation: this.zoneLocation, universe: universe, zoneType: this.type})) {\n            return false;\n        }\n\n        return this.visible;\n    }\n\n    onExploration() {\n        App.COMPONENT.setAction(this.exploration.onExplorationDialog(this));\n    }\n\n    markExplored() {\n        this.type = ZONE_TYPE_EXPLORED;\n        this.exploration = null;\n        Universe.notifyThatUniverseChanged();\n    }\n}\n\nSerialisation.registerDynamicClass(Zone, \"Zone\");","import {\n    arrayIntersection,\n    arrayUnion,\n    ensureArrayOfArraysOrNull,\n    ensureArrayOrNull,\n    haveCommonElement\n} from \"../misc/Utils\";\nimport {ZoneType} from \"./ZoneType\";\nimport * as Serialisation from \"../misc/Serialisation\";\nimport {ZONE_LOCATION_AFTER_EXPLORATIONS, ZONE_LOCATION_BEFORE_EXPLORATIONS} from \"./Entity\";\nimport {ZONE_TYPES} from \"../data/zones\";\n\nexport default class Filter {\n    constructor({includedPlanetTraits = null, excludedPlanetTraits = null, includedZoneTypes = null, excludedZoneTypes = null, allowedColumns = null, allowedRows = null, customFilter = null, allowedBeforeExploration = false, allowedOnSurface = true, allowedAfterExploration = false} = {}) {\n\n        //Can be an array of arrays, which means one of all of the traits is required.\n        this.includedPlanetTraits = ensureArrayOfArraysOrNull(includedPlanetTraits, (trait) => typeof trait === 'string');\n        this.excludedPlanetTraits = ensureArrayOrNull(excludedPlanetTraits, (trait) => typeof trait === 'string');\n\n        includedZoneTypes = ensureArrayOrNull(includedZoneTypes, (trait) => trait instanceof ZoneType);\n        excludedZoneTypes = ensureArrayOrNull(excludedZoneTypes, (trait) => trait instanceof ZoneType);\n        this.zoneTypes = includedZoneTypes ? includedZoneTypes : ZONE_TYPES;\n\n        if (excludedZoneTypes)\n            this.zoneTypes = this.zoneTypes.filter(zoneType => excludedZoneTypes.indexOf(zoneType) === -1);\n\n        this.allowedColumns = ensureArrayOrNull(allowedColumns, (trait) => typeof trait === 'number');\n        this.allowedRows = ensureArrayOrNull(allowedRows, (trait) => typeof trait === 'number');\n        this.allowedBeforeExploration = allowedBeforeExploration;\n        this.allowedOnSurface = allowedOnSurface;\n        this.allowedAfterExploration = allowedAfterExploration;\n        this.customFilter = customFilter;\n    }\n\n    static merge(filters) {\n        console.assert(Array.isArray(filters), \"filters must be an array\");\n\n        const configuration = filters[0];\n\n        console.assert(configuration instanceof Filter, configuration);\n\n        for (const filter of filters.slice(1)) {\n            const mergeToConf = (attribute, mergeFunction) => {\n                const first = configuration[attribute];\n                const second = filter[attribute];\n\n                if (second !== null) {\n                    if (first !== null) {\n                        configuration[attribute] = mergeFunction(first, second);\n                    } else {\n                        configuration[attribute] = second;\n                    }\n                }\n            };\n\n            mergeToConf(`includedPlanetTraits`, arrayUnion); //Union of array of arrays.\n            mergeToConf(`excludedPlanetTraits`, arrayUnion);\n            mergeToConf(`zoneTypes`, arrayIntersection);\n            mergeToConf(`allowedColumns`, arrayIntersection);\n            mergeToConf(`allowedRows`, arrayIntersection);\n            mergeToConf(`allowedOnSurface`, (v1, v2) => v1 && v2);\n            mergeToConf(`allowedBeforeExploration`, (v1, v2) => v1 && v2);\n            mergeToConf(`allowedAfterExploration`, (v1, v2) => v1 && v2);\n            mergeToConf(`customFilter`, (/*array1, array2*/) => console.error(\"Can not merge two custom filters\"));\n        }\n\n        return new Filter(configuration);\n    }\n\n    isAcceptable({zoneLocation = null, zoneType = null, universe = null, planet = null}) {\n        if (planet !== null) {\n            let traits = planet.traits;\n\n            if (this.includedPlanetTraits !== null) {\n                console.assert(Array.isArray(this.includedPlanetTraits) && Array.isArray(this.includedPlanetTraits[0]));\n\n                for (let row of this.includedPlanetTraits) {\n                    if (!haveCommonElement(traits, row)) {\n                        return false;\n                    }\n                }\n            }\n\n            if (this.excludedPlanetTraits !== null && haveCommonElement(traits, this.excludedPlanetTraits)) {\n                return false;\n            }\n\n            let planetZoneTypes = planet.zoneTypeWeights.map(({zoneType, weight}) => zoneType);\n            let commonZoneTypes = arrayIntersection(this.zoneTypes, planetZoneTypes);\n\n            if (commonZoneTypes.length === 0) {\n                return false;\n            }\n        }\n\n        if (zoneLocation !== null) {\n            if (zoneLocation === ZONE_LOCATION_BEFORE_EXPLORATIONS) {\n                return this.allowedBeforeExploration;\n            } else if (zoneLocation === ZONE_LOCATION_AFTER_EXPLORATIONS) {\n                return this.allowedAfterExploration;\n            } else {\n                if (!this.allowedOnSurface) {\n                    return false;\n                }\n\n                let column = (zoneLocation % 3) + 1;\n                let row = Math.floor(zoneLocation / 3) + 1;\n\n                if (this.allowedColumns !== null && this.allowedColumns.indexOf(column) === -1) {\n                    return false;\n                }\n\n                if (this.allowedRows !== null && this.allowedRows.indexOf(row) === -1) {\n                    return false;\n                }\n            }\n        }\n\n        if (zoneType !== null) {\n            if (this.zoneTypes.indexOf(zoneType) === -1) {\n                return false;\n            }\n        }\n\n        return this.customFilter === null || this.customFilter({zoneLocation, zoneType, universe, planet});\n    }\n}\n\nSerialisation.registerDynamicClass(Filter, \"Filter\");","import Filter from \"./Filter\";\nimport Zone from \"./Zone\";\n\nexport let STORY_TELLERS = [];\n\nexport default class Story {\n    constructor({weight = 1.0, filter = new Filter(), visible = true, exploration}) {\n        console.assert(typeof weight === 'number');\n\n        this.weight = weight;\n        this.filter = filter;\n        this.exploration = exploration;\n        this.visible = visible;\n    }\n\n    calculateWeight(zoneLocation, planet, universe) {\n        if (!this.filter.isAcceptable({zoneLocation, planet, universe})) {\n            return 0.0\n        }\n\n        return this.weight;\n    }\n\n    createZone(zoneLocation, planet, universe) {\n        return {\n            weight: this.calculateWeight(zoneLocation, planet, universe), zoneBuilder: () => {\n                let zoneType = planet.getAvailableZoneType(this.filter);\n\n                return new Zone({\n                    planetId: planet.id,\n                    zoneLocation: zoneLocation,\n                    type: zoneType,\n                    exploration: this.exploration,\n                    visible: this.visible,\n                });\n            }\n        }\n    }\n}\n","import {StaticObject} from \"../misc/Serialisation\";\nimport Filter from \"./Filter\";\n\nexport let RESOURCES = [];\n\nexport default class Resource extends StaticObject {\n    constructor({name, plural, image, stashesFilter = new Filter(), isCrew = false, isEquipment = false, ...config}) {\n        super(config);\n        this.name = name;\n        this.plural = plural;\n        this.image = image;\n        this.isCrew = isCrew;\n        this.isEquipment = isEquipment;\n        this.stashesFilter = stashesFilter;\n\n        console.assert(this.stashesFilter instanceof Filter);\n        console.assert(typeof this.isCrew === \"boolean\");\n        console.assert(typeof this.isEquipment === \"boolean\");\n\n        RESOURCES.push(this);\n    }\n}\n","import Resource from \"../game/Resource\";\n\nimport token_captain from \"./tokens/token_captain.png\";\nimport token_monkey from \"./tokens/token_monkey.png\";\nimport token_trooper from \"./tokens/token_trooper.png\";\nimport token_technician from \"./tokens/token_technician.png\";\nimport token_scientist from \"./tokens/token_scientist.png\";\nimport token_pilot from \"./tokens/token_pilot.png\";\n\nimport token_artifact from \"./tokens/token_artifact.png\";\nimport token_crystals from \"./tokens/token_crystals.png\";\nimport token_gas_canister from \"./tokens/token_gas_carnister.png\";\n\nimport token_gun from \"./tokens/token_gun.png\";\nimport token_medkit from \"./tokens/token_medkit.png\";\nimport token_munitions from \"./tokens/token_munitions.png\";\nimport token_scanner from \"./tokens/token_scanner.png\";\nimport token_suit from \"./tokens/token_suit.png\";\nimport Filter from \"../game/Filter\";\nimport {ZONE_TYPE_CONTAINER} from \"./zones\";\n\nexport const RESOURCE_A = new Resource({id: \"A\", name: \"crystal\",      plural: \"crystals\",      image: token_crystals});\nexport const RESOURCE_B = new Resource({id: \"B\", name: \"gas canister\", plural: \"gas canisters\", image: token_gas_canister});\nexport const RESOURCE_D = new Resource({id: \"D\", name: \"artifact\",     plural: \"artifacts\",     stashesFilter: new Filter({excludedZoneTypes: [ZONE_TYPE_CONTAINER]}), image: token_artifact});\n\nexport const EQUIPMENT_GUN        = new Resource({id: \"gun\",        name: \"Gun\",                   plural: \"Guns\",                  isEquipment: true, image: token_gun});\nexport const EQUIPMENT_MEDKIT     = new Resource({id: \"medkit\",     name: \"Medkit\",                plural: \"Medkits\",               isEquipment: true, image: token_medkit});\nexport const EQUIPMENT_MUNITIONS  = new Resource({id: \"munitions\",  name: \"Munitions\",             plural: \"Munitions\",             isEquipment: true, image: token_munitions});\nexport const EQUIPMENT_SCANNER    = new Resource({id: \"scanner\",    name: \"Scanner\",               plural: \"Scanners\",              isEquipment: true, image: token_scanner});\nexport const EQUIPMENT_SUIT       = new Resource({id: \"suit\",       name: \"Environmental suit\",    plural: \"Environmental suits\",   isEquipment: true, image: token_suit});\n\nexport const CREW_CAPTAIN    = new Resource({id: \"captain\",    name: \"Captain\",    plural: \"Captain\",     isCrew: true, image: token_captain});\nexport const CREW_MONKEY     = new Resource({id: \"monkey\",     name: \"Monkey\",     plural: \"Monkey\",      isCrew: true, image: token_monkey});\nexport const CREW_TROOPER    = new Resource({id: \"trooper\",    name: \"Trooper\",    plural: \"Trooper\",     isCrew: true, image: token_trooper});\nexport const CREW_TECHNICIAN = new Resource({id: \"technician\", name: \"Technician\", plural: \"Technician\",  isCrew: true, image: token_technician});\nexport const CREW_SCIENTIST  = new Resource({id: \"scientist\",  name: \"Scientist\",  plural: \"Scientist\",   isCrew: true, image: token_scientist});\nexport const CREW_PILOT      = new Resource({id: \"pilot\",      name: \"Pilot\",      plural: \"Pilot\",       isCrew: true, image: token_pilot});","import React from \"react\";\nimport \"./Icon.css\";\n\nexport default class Icon extends React.Component {\n    render() {\n        let obj = this.props.obj;\n        let count = this.props.count;\n        let simple = typeof count !== 'number';\n\n        if (simple) {\n            return <React.Fragment>\n                <img className=\"icon\" src={obj.image} alt={obj.name} />\n            </React.Fragment>;\n        } else {\n            let text = count !== 1 ? obj.plural : obj.name;\n            return <React.Fragment>\n                <span className=\"icon\">{count} {text}</span> <img className=\"icon\" src={obj.image} alt={text} />\n            </React.Fragment>;\n        }\n    }\n}","import Exploration, {exploreAndReturnToScanner, returnToScanner, StaticExploration} from \"../game/Exploration\";\nimport Dialog from \"../components/Dialog\";\nimport App from '../components/App'\nimport Story, {STORY_TELLERS} from \"../game/Story\";\nimport React from \"react\";\nimport Filter from \"../game/Filter\";\nimport {\n    CREW_CAPTAIN,\n    CREW_MONKEY,\n    CREW_PILOT,\n    CREW_SCIENTIST,\n    CREW_TECHNICIAN,\n    EQUIPMENT_GUN,\n    EQUIPMENT_MEDKIT,\n    EQUIPMENT_SCANNER,\n    EQUIPMENT_SUIT,\n    RESOURCE_A,\n    RESOURCE_B,\n} from \"../data/resources\";\nimport * as Serialisation from \"../misc/Serialisation\";\nimport {getRandomElement} from \"../misc/Utils\";\nimport {Universe} from \"../game/Universe\";\nimport Icon from \"../components/Icon\";\n\n\n//\n//\n//\nlet exhaustTo = (object, to) => <p>You may exhaust a {object.name} <Icon obj={object} /> to {to}.</p>;\nlet exhaustOnShipTo = (object, to) => <p>You may exhaust a {object.name} <Icon obj={object} /> on board your ship, to {to}.</p>;\nlet exhaustEnvironSuitToSaveInSuits = () => exhaustTo(EQUIPMENT_SUIT, <React.Fragment>save each crew member with <Icon obj={EQUIPMENT_SUIT} /> equipped (no matter if it's ready or exhausted)</React.Fragment>);\n\n//\n// Exploration - Nothing found\n//\n\nexport const EXPLORATION_NOTHING = new StaticExploration({id: \"EXPLORATION_NOTHING\", calculate: (zone) => {\n    let randomResource = getRandomElement([RESOURCE_A, RESOURCE_B]);\n\n    return {\n        result: <React.Fragment>\n            <p>You haven't found anything of interest.</p>\n            {exhaustTo(CREW_MONKEY, <React.Fragment>find a {randomResource.name} <Icon obj={randomResource} /></React.Fragment>)}\n        </React.Fragment>,\n        voice: `You haven't found anything of interest`,\n    }\n}});\n\n//\n// Exploration - Simple before and after\n//\n\nexport class FullyExploredExploration extends Exploration{\n    constructor({...config} = {}) {\n        super(config);\n    }\n\n    calculate(zone) {\n        let universe = Universe.theUniverse;\n        let definition = universe.definition;\n        let dataLog = getRandomElement(definition.dataLogs);\n        let buttons = [\n            {name: \"OK\", onClick: () => {returnToScanner()}},\n        ];\n\n        return {\n            result: <React.Fragment>\n                {zone.planet.name} is now fully explored.\n                Your exploration of this planet allowed you to learn:<br/><br/>\n                <div className=\"data-log\">Acquire data log {dataLog.id}.</div>\n            </React.Fragment>,\n            voice: `${zone.planet.name} is now fully explored.`,\n            buttons: buttons,\n        }\n    }\n}\n\nSerialisation.registerDynamicClass(FullyExploredExploration, \"FullyExploredExploration\");\n\nexport class SimpleBeforeExploration extends Exploration{\n    constructor({result, voice, ...config}) {\n        super(config);\n\n        this.result = result;\n        this.voice = voice;\n    }\n\n    calculate(zone) {\n        return {\n            result: this.result,\n            voice: this.voice,\n            buttons: [{name: \"OK\", onClick: () => {\n                zone.markExplored();\n                App.COMPONENT.selectObject(zone.planetId);\n            }}],\n        }\n    }\n}\n\nSerialisation.registerDynamicClass(SimpleBeforeExploration, \"SimpleBeforeExploration\");\n\n//\n// Exploration - Meteor shower\n//\n\nexport let EXPLORATION_METEOR_SHOWER = new StaticExploration({id: \"EXPLORATION_METEOR_SHOWER\", providedResources: [RESOURCE_A, RESOURCE_A], calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>While exploring the {zone.name}, your team was caught in a meteor shower, they acquired 2 crystals <Icon obj={RESOURCE_A} /> but immediately died.</p>\n            {exhaustOnShipTo(CREW_PILOT, 'swoop in and save everyone')}\n            {exhaustOnShipTo(EQUIPMENT_GUN, 'shoot down the meteors as they enter the atmosphere')}\n        </React.Fragment>,\n        voice: `Danger, incoming meteor shower`,\n    }\n}});\n\n//\n// Exploration - Temperatures\n//\n\nexport let EXPLORATION_FROZE_TO_DEATH = new StaticExploration({id: \"EXPLORATION_FROZE_TO_DEATH\", calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>While exploring the {zone.name}, your entire team was caught by an extremely low temperature, as a result all of them froze to death.</p>\n            {exhaustEnvironSuitToSaveInSuits()}\n            {exhaustTo(CREW_CAPTAIN, 'motivate the team to move forward!, the team is saved but you have lost one random ready equipment (shuffle your equipment and discard it)')}\n        </React.Fragment>,\n        voice: `Danger, low temperature`,\n    }\n}});\n\n\nexport let EXPLORATION_EXTREME_HEAT = new StaticExploration({id: \"EXPLORATION_EXTREME_HEAT\", calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>While exploring the {zone.name}, your entire team was boiled alive due to extreme heat and died immediately.</p>\n            {exhaustEnvironSuitToSaveInSuits()}\n            {exhaustOnShipTo(CREW_PILOT, 'swoop in and save everyone')}\n        </React.Fragment>,\n        voice: `Danger, extreme heat`,\n    }\n}});\n\n\n\n//\n// Exploration - Poisonous plants\n//\n\nexport let EXPLORATION_POISONOUS_PLANTS = new StaticExploration({id: \"EXPLORATION_POISONOUS_PLANTS\", calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>It turned out that the entire {zone.name} was covered in local flora, your team passed through it and immediately got sick afterwards. It turned out that the plants were poisonous, they all died.</p>\n            <p>Gain 1 gas canister <Icon obj={RESOURCE_B} /></p>\n            {exhaustTo(EQUIPMENT_MEDKIT, 'save everyone')}\n            {exhaustTo(CREW_SCIENTIST, 'save everyone')}\n        </React.Fragment>,\n        voice: `Danger, poisonous plants`,\n    }\n}});\n\n\n//\n// Exploration - Toxic\n//\n\nexport let EXPLORATION_TOXIC_VAPOURS = new StaticExploration({id: \"EXPLORATION_TOXIC_VAPOURS\", calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>It turned out that the entire {zone.name} was filled with toxic vapours, your entire team died.</p>\n            {exhaustEnvironSuitToSaveInSuits()}\n            {exhaustTo(CREW_TECHNICIAN, <React.Fragment>acquire 2 gas canisters <Icon obj={RESOURCE_B} /></React.Fragment>)}\n        </React.Fragment>,\n        voice: `Danger, toxic vapours`,\n    }\n}});\n\n//\n// Exploration - Volcano\n//\n\nexport let EXPLORATION_VOLCANO = new StaticExploration({id: \"EXPLORATION_VOLCANO\", calculate: (zone) => {\n    return {\n        result: <React.Fragment>\n            <p>A volcano erupted under your teams feet, your entire team died.</p>\n            {exhaustOnShipTo(CREW_PILOT, 'swoop in and save everyone')}\n            {exhaustTo(CREW_MONKEY, <React.Fragment>to gain acquire 1 crystal (<Icon obj={RESOURCE_A} />)</React.Fragment>)}\n        </React.Fragment>,\n        voice: `Danger, a volcanic eruption`,\n    }\n}});\n\n//\n// Exploration - Fire\n//\n\nexport class FireExploration extends Exploration{\n    constructor({...config} = {}) {\n        super(config);\n    }\n\n    calculate(zone) {\n        return {\n            result: <React.Fragment>\n                <p>A gigantic <em>Fire</em> has vigorously spread thorough the local flora and caught your team as you were exploring the {zone.type.name}. The team performing the exploration did not make it.</p>\n                {exhaustEnvironSuitToSaveInSuits()}\n                {exhaustTo(CREW_CAPTAIN, 'recognize the danger and run away in time')}\n                <p>You may exhaust a scientist <Icon obj={CREW_SCIENTIST} /> and one another crew member to find a way to extinguish a path through the {zone.name}.</p>\n            </React.Fragment>,\n            voice: `Danger, fire!`,\n        }\n    }\n}\n\nSerialisation.registerDynamicClass(FireExploration, \"FireExploration\");\n\n//\n// Exploration - Magnesium\n//\n\nexport class MagnesiumExploration extends Exploration{\n    constructor({...config} = {}) {\n        super({\n            providedResources: [RESOURCE_A, RESOURCE_A, RESOURCE_A],\n            ...config\n        });\n    }\n\n    calculate(zone) {\n        let riskIt = (probability) => {\n            let successful = Math.random() < probability;\n            if (successful) {\n                App.COMPONENT.setAction(<Dialog voice={`You acquired 3 crystals.`} result={<React.Fragment>You acquired 3 <Icon obj={RESOURCE_A} /></React.Fragment>} buttons={[{name: \"OK\", onClick: () => exploreAndReturnToScanner(zone)}]} />);\n            } else {\n                App.COMPONENT.setAction(<Dialog result=\"The magnesium exploded, your team has been annihilated, remove them from the game.\" buttons={[{name: \"OK\", onClick: () => exploreAndReturnToScanner(zone)}]} />);\n            }\n        };\n\n        return {\n            result: <React.Fragment>\n                <p>You have encountered a volatile magnesium {zone.type.name.toLowerCase()}.</p>\n                <p>There are 3 crystals <Icon obj={RESOURCE_A} /> to acquire, but it's dangerous to get. If you have a scanner <Icon obj={EQUIPMENT_SCANNER} /> and a technician <Icon obj={CREW_TECHNICIAN} /> in your team, you might actually manage to do it.</p>\n                <p>How do you want to approach it? (Percentages are the percent of success):</p>\n            </React.Fragment>,\n            voice: `You have encountered a volatile magnesium ${zone.type.name}`,\n            buttons: [\n                {name: \"Technician with a scanner - 90%\", onClick: () => riskIt(0.9)},\n                {name: \"Technician  - 70%\", onClick: () => riskIt(0.7)},\n                {name: \"Someone else with a scanner - 50%\", onClick: () => riskIt(0.5)},\n                {name: \"Someone else - 10%\", onClick: () => riskIt(0.1)},\n                {name: \"A monkey - 30%?\", onClick: () => riskIt(0.3)},\n                {name: \"Back off\", onClick: () => returnToScanner(zone)},\n            ],\n        }\n    }\n}\n\nSerialisation.registerDynamicClass(MagnesiumExploration, \"MagnesiumExploration\");\n\n//\n// Fill all dangers\n//\n\nSTORY_TELLERS.push((definition) => {\n    return [\n        new Story({\n            exploration: null,\n            filter: new Filter({allowedBeforeExploration: true, allowedOnSurface: false}),\n            weight: 2.0,\n        }),\n        new Story({\n            exploration: new SimpleBeforeExploration({result: `You are first here and found 1 crystal in the orbit.`}),\n            filter: new Filter({allowedBeforeExploration: true, allowedOnSurface: false}),\n            weight: 1.0,\n        }),\n        new Story({\n            exploration: null,\n            filter: new Filter({allowedAfterExploration: true, allowedOnSurface: false}),\n            weight: 1.0,\n        }),\n        new Story({\n            exploration: new FullyExploredExploration(),\n            filter: new Filter({allowedAfterExploration: true, allowedOnSurface: false}),\n            weight: 1.0,\n        }),\n    ];\n});","import React from 'react';\nimport Exploration, {exploreAndReturnToScanner} from \"../game/Exploration\";\nimport {ZONE_TYPE_CITY, ZONE_TYPE_CONTAINER} from \"../data/zones\";\nimport './dataLogs.css';\nimport * as Serialisation from \"../misc/Serialisation\";\nimport Filter from \"../game/Filter\";\nimport {fillZoneCandidates, Universe} from \"../game/Universe\";\n\nexport function createDataLogResultVoiceButtons({universe, reason, onOK}) {\n    if (universe.remainingDataLogCards.length > 0) {\n        let dataLog = universe.remainingDataLogCards.pop();\n\n        return {\n            result: <React.Fragment>{reason}<br/><br/><br/>\n                <div className=\"data-log\">Acquire data log {dataLog.id}. <br/><br/><img src={dataLog.image} alt={\"data log\"} /></div>\n            </React.Fragment>,\n            voice: `Data log found`,\n            buttons: [{\n                name: \"OK\",\n                onClick: onOK,\n            }],\n        }\n    } else {\n        return {\n            result: <React.Fragment>{reason}<br/><br/><br/>\n                <div className=\"data-log\">There are no things left to learn.</div>\n            </React.Fragment>,\n            voice: `There are no things left to learn`,\n            buttons: [{\n                name: \"OK\",\n                onClick: onOK,\n            }],\n        };\n    }\n}\n\nclass DataLogExploration extends Exploration {\n    constructor({reason = `???`, ...config} = {}) {\n        super(config);\n\n        this.reason = reason;\n    }\n\n    calculate(zone) {\n        return createDataLogResultVoiceButtons({\n            universe: Universe.theUniverse,\n            reason: this.reason,\n            onOK: () => exploreAndReturnToScanner(zone)\n        });\n    }\n}\n\nexport function fillDataLogExplorations(universe) {\n    fillZoneCandidates({\n        universe,\n        exploration: new DataLogExploration({reason: `You have encountered a dead explorer, and with him his data log.`}),\n        minTotal: 20,\n        maxTotal: 30,\n        filter: new Filter({excludedZoneTypes: [ZONE_TYPE_CITY, ZONE_TYPE_CONTAINER]}),\n    });\n}\n\nSerialisation.registerDynamicClass(DataLogExploration, \"DataLogExploration\");\n","import * as Utils from '../misc/Utils';\nimport {arrayIntersection, getRandomElement, shuffle, speak} from '../misc/Utils';\nimport * as Serialisation from \"../misc/Serialisation\";\nimport React from \"react\";\nimport {returnToScanner} from \"./Exploration\";\nimport EntityDetails from \"../components/EntityDetails\";\nimport App from \"../components/App\";\nimport Zone from \"./Zone\";\nimport {Universe} from \"./Universe\";\nimport {EXPLORATION_NOTHING} from \"../exploration/environment\";\nimport {CREW_SCIENTIST} from \"../data/resources\";\nimport Dialog from \"../components/Dialog\";\nimport {createDataLogResultVoiceButtons} from \"../exploration/dataLogs\";\n\nexport const ZONE_LOCATION_BEFORE_EXPLORATIONS = \"BEFORE_EXPLORATIONS\";\nexport const ZONE_LOCATION_AFTER_EXPLORATIONS = \"AFTER_EXPLORATIONS\";\n\nexport const ZONE_CANDIDATE_PRIORITY_MUST = 0;\nexport const ZONE_CANDIDATE_PRIORITY_FLEX = 1;\n\n\nexport class Entity {\n    constructor({id = -1, name = \"ERROR\", image = \"Unknown.png\"}) {\n        this.id = id;\n        this.name = name;\n        this.image = image;\n    }\n\n    notifyThatWasSelected() {\n        console.error(\"Not implemented\");\n    }\n\n    get canBeSelected() {\n        return true;\n    }\n}\n\nexport class Planet extends Entity {\n    constructor({traits = [], beforeExplorationsZone = null, afterExplorationsZone = null, surfaceZones = null, targetSize, zoneTypeWeights: zoneTypeWeights = [], ...config} = {}) {\n        super(config);\n        this.traits = traits;\n        this.beforeExplorationsZone = beforeExplorationsZone;\n        this.afterExplorationsZone = afterExplorationsZone;\n        this.surfaceZones = surfaceZones;\n        this.zoneTypeWeights = zoneTypeWeights;\n        this.targetSize = targetSize;\n        this.surfaceZoneCandidates = [];\n        this.surfaceZoneCandidates[ZONE_CANDIDATE_PRIORITY_MUST] = [];\n        this.surfaceZoneCandidates[ZONE_CANDIDATE_PRIORITY_FLEX] = [];\n    }\n\n    notifyThatWasSelected() {\n        let zone = this.getZone(ZONE_LOCATION_BEFORE_EXPLORATIONS);\n        if (zone.exploration) {\n            zone.onExploration();\n        } else {\n            Utils.speak(this.name);\n            App.COMPONENT.setAction(<React.Fragment>\n                <EntityDetails\n                    planetId={this.id}\n                    planetData={this}\n                    onReset={() => App.COMPONENT.setAction(null)}\n                />\n            </React.Fragment>)\n        }\n    }\n\n    get isFullyExplored() {\n        for (let zone of this.surfaceZones) {\n            if (zone.exploration) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    get canBeSelected() {\n        return !this.isFullyExplored;\n    }\n\n    zoneLocations() {\n        let universe = this;\n\n        return {\n            nextItem: ZONE_LOCATION_BEFORE_EXPLORATIONS,\n\n            [Symbol.iterator]() {\n                return this;\n            },\n\n            next() {\n                if (this.nextItem === ZONE_LOCATION_BEFORE_EXPLORATIONS) {\n                    this.nextItem = 0;\n                    return {done: false, ZONE_LOCATION_BEFORE_EXPLORATIONS}\n                }\n\n                if (this.nextItem === ZONE_LOCATION_AFTER_EXPLORATIONS) {\n                    return {done: true, ZONE_LOCATION_AFTER_EXPLORATIONS}\n                }\n\n                let value = this.nextItem;\n\n                this.nextItem++;\n\n                if (this.nextItem === universe.surfaceZones.length) {\n                    this.nextItem = ZONE_LOCATION_AFTER_EXPLORATIONS;\n                }\n\n                return {done: false, value}\n            }\n        };\n    }\n\n    getZone(zoneLocation) {\n        if (zoneLocation === ZONE_LOCATION_BEFORE_EXPLORATIONS) {\n            return this.beforeExplorationsZone;\n        } else if (zoneLocation === ZONE_LOCATION_AFTER_EXPLORATIONS) {\n            return this.afterExplorationsZone;\n        } else {\n            return this.surfaceZones[zoneLocation];\n        }\n    }\n\n    /*setZone(zoneLocation, zone) {\n        if (zoneLocation === ZONE_LOCATION_BEFORE_EXPLORATIONS) {\n            this.beforeExplorationsZone = zone;\n        } else if (zoneLocation === ZONE_LOCATION_AFTER_EXPLORATIONS) {\n            this.afterExplorationsZone = zone;\n        } else {\n            this.surfaceZones[zoneLocation] = zone;\n        }\n    }*/\n\n    onFullyExplored() {\n        let zone = this.getZone(ZONE_LOCATION_AFTER_EXPLORATIONS);\n\n        if (zone.exploration) {\n            zone.onExploration();\n        } else {\n            speak(`${this.name} is now fully explored.`);\n            returnToScanner();\n        }\n    }\n\n    getAvailableZoneType(filter = null) {\n        let availableZoneDistribution = this.zoneTypeWeights.filter(zoneWithWeight => {\n            return filter === null || filter.isAcceptable({zoneType: zoneWithWeight.zoneType});\n        });\n\n\n        if (availableZoneDistribution.length === 0) {\n            availableZoneDistribution = this.zoneTypeWeights;\n        }\n\n        return Utils.getWeightedRandomElement(availableZoneDistribution).zoneType;\n    }\n\n    matchingZoneLocations(filter) {\n        let possibleZoneLocations = [];\n\n        for (let zoneLocation of this.zoneLocations()) {\n            if (!this.getZone(zoneLocation) && filter.isAcceptable({zoneLocation, planet:this, universe: Universe.theUniverse})) {\n                possibleZoneLocations.push(zoneLocation);\n            }\n        }\n\n        return possibleZoneLocations;\n    }\n\n    addSurfaceZoneCandidate({exploration, count = 1, priority = ZONE_CANDIDATE_PRIORITY_FLEX, zoneTypes = null, visible = true}) {\n        console.assert(this.surfaceZones === null);\n        this.surfaceZoneCandidates[priority].push({zoneTypes, count, exploration, visible});\n    }\n\n    fillZones(universe) {\n        console.assert(this.surfaceZones === null);\n\n        let zones = [];\n        let planetZoneTypes = this.zoneTypeWeights.map(({zoneType, weight}) => zoneType);\n\n        const addCandidate = ({exploration, count = 1, priority = ZONE_CANDIDATE_PRIORITY_FLEX, zoneTypes = null, visible = true}) => {\n            if (zoneTypes) {\n                zoneTypes = arrayIntersection(zoneTypes, planetZoneTypes);\n            } else {\n                zoneTypes = planetZoneTypes;\n            }\n\n            for (let i = 0; i < count; i++) {\n                let zoneType = getRandomElement(zoneTypes);\n\n                zones.push(new Zone({\n                    planetId: this.id,\n                    zoneLocation: null,\n                    type: zoneType,\n                    exploration: exploration,\n                    visible: visible\n                }));\n            }\n        };\n\n        for (let zoneCandidate of this.surfaceZoneCandidates[ZONE_CANDIDATE_PRIORITY_MUST]) {\n            addCandidate(zoneCandidate);\n        }\n\n        shuffle(this.surfaceZoneCandidates[ZONE_CANDIDATE_PRIORITY_FLEX]);\n        for (let zoneCandidate of this.surfaceZoneCandidates[ZONE_CANDIDATE_PRIORITY_FLEX]) {\n\n            if (zones.length > this.targetSize) {\n                break;\n            }\n\n            addCandidate(zoneCandidate);\n        }\n\n        for (let i = zones.length; i < this.targetSize; i++) {\n            addCandidate({\n                exploration: EXPLORATION_NOTHING,\n            });\n        }\n\n        shuffle(zones);\n\n        for (let i = 0; i < zones.length; i++) {\n            zones[i].zoneLocation = i;\n        }\n\n        this.afterExplorationsZone = new Zone({planetId: this.id, exploration: null, zoneLocation: ZONE_LOCATION_AFTER_EXPLORATIONS, type: null});\n        this.beforeExplorationsZone = new Zone({planetId: this.id, exploration: null, zoneLocation: ZONE_LOCATION_BEFORE_EXPLORATIONS, type: null});\n        this.surfaceZones = zones;\n    }\n}\n\nexport class ScientistDataLogEntity extends Entity {\n    constructor() {\n        super({id: 60, name:\"Scientist data log\", image: CREW_SCIENTIST.image});\n    }\n\n    notifyThatWasSelected() {\n        if (Math.random() > 0.5) {\n            let {result, voice, buttons} = createDataLogResultVoiceButtons({universe: Universe.theUniverse, reason: 'Scientist researched something significant', onOK: () => returnToScanner()});\n\n            App.COMPONENT.setAction(<Dialog\n                result={result}\n                voice={voice}\n                buttons={buttons}\n            />);\n        } else {\n            App.COMPONENT.setAction(<Dialog\n                result={\"Scientist did not learn anything new, you have to keep on trying.\"}\n                buttons={[{name: \"OK\", onClick: () => {returnToScanner()}}]}\n            />);\n        }\n    }\n}\n\nSerialisation.registerDynamicClass(ScientistDataLogEntity, \"ScientistDataLogEntity\");\n\nSerialisation.registerDynamicClass(Planet, \"Planet\");\n\n","import {StaticObject} from \"../misc/Serialisation\";\nimport {getRandomElement, shuffle} from \"../misc/Utils\";\n\nconst DATA_LOG_SETS = {};\n\nfunction registerDataLog(dataLog, setIds) {\n    for (let id of setIds) {\n        if (!DATA_LOG_SETS[id]) {\n            DATA_LOG_SETS[id] = [];\n        }\n\n        DATA_LOG_SETS[id].push(dataLog);\n    }\n}\n\nexport default class DataLog extends StaticObject {\n    constructor({image, fill, canBeFound = true, setIds = [], ...config}) {\n        super(config);\n\n        this.image = image;\n        this.fill = fill;\n        this.canBeFound = canBeFound;\n        this.setIds = setIds;\n\n        registerDataLog(this, setIds);\n    }\n}\n\nfunction isInDataSets(dataLog, dataSets) {\n    for (let conflictingDataSet of dataSets) {\n        if (conflictingDataSet.indexOf(dataLog) !== -1) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction areInSameDataSetAs(dataLogs, dataLog) {\n    let dataSetsContainingDataLog = Object.values(DATA_LOG_SETS).filter(dataSet => dataSet.indexOf(dataLog) !== -1);\n\n    for (let dataLog2 of dataLogs) {\n        if (isInDataSets(dataLog2, dataSetsContainingDataLog)) {\n            return true\n        }\n    }\n\n    return false;\n}\n\nexport function fillRandomizedDataLogs(universe) {\n    let entries = Array.from(Object.entries(DATA_LOG_SETS));\n    shuffle(entries);\n\n    for (let [setId, dataLogSet] of entries) {\n        let possibleDataLogs = dataLogSet.filter(dataLog => !areInSameDataSetAs(universe.dataLogs, dataLog));\n        if (possibleDataLogs.length > 0) {\n            let dataLog = getRandomElement(possibleDataLogs);\n            universe.dataLogs.add(dataLog);\n        } else {\n            console.warn(\"No suitable datalog posibilties found in\", setId, dataLogSet, \"existing\", universe.dataLogs);\n        }\n    }\n}\n\nexport function fillDataLogCards(universe) {\n    universe.remainingDataLogCards = [];\n    for (let dataLog of universe.dataLogs) {\n        if (dataLog.canBeFound) {\n            universe.remainingDataLogCards.push(dataLog);\n            universe.remainingDataLogCards.push(dataLog);\n        }\n    }\n    shuffle(universe.remainingDataLogCards);\n}\n\nexport function fillZoneCandidatesFromLogs(universe) {\n    for (let log of universe.dataLogs) {\n        if (log.fill) {\n            log.fill(universe);\n        }\n    }\n}\n\nexport function fillZonesBasedOnCandidates(universe) {\n    for (let planet of universe.planets) {\n        planet.fillZones(universe);\n    }\n}\n\n\n","import planets1 from \"./planets/planets.jpg\";\nimport planets2 from \"./planets/planets2.jpg\";\nimport planets3 from \"./planets/planets3.jpg\";\nimport planets4 from \"./planets/planets4.jpg\";\nimport planets5 from \"./planets/planets5.jpg\";\nimport planets6 from \"./planets/planets6.jpg\";\nimport planets7 from \"./planets/planets7.jpg\";\nimport planets8 from \"./planets/planets8.jpg\";\nimport planets9 from \"./planets/planets9.jpg\";\nimport planets10 from \"./planets/planets10.jpg\";\nimport planets11 from \"./planets/planets11.jpg\";\nimport planets12 from \"./planets/planets12.jpg\";\nimport planets13 from \"./planets/planets13.jpg\";\nimport planets14 from \"./planets/planets14.jpg\";\nimport planets15 from \"./planets/planets15.jpg\";\nimport planets16 from \"./planets/planets16.jpg\";\nimport planets17 from \"./planets/planets17.jpg\";\nimport planets18 from \"./planets/planets18.jpg\";\nimport planets19 from \"./planets/planets19.jpg\";\nimport planets20 from \"./planets/planets20.jpg\";\nimport planets21 from \"./planets/planets21.jpg\";\nimport planets22 from \"./planets/planets22.jpg\";\nimport planets23 from \"./planets/planets23.jpg\";\nimport planets24 from \"./planets/planets24.jpg\";\n\nimport {\n    PLANET_TRAIT_BIO_HAZARD,\n    PLANET_TRAIT_BUGS,\n    PLANET_TRAIT_COLD,\n    PLANET_TRAIT_GAS_GIGANT,\n    PLANET_TRAIT_GRAVITY,\n    PLANET_TRAIT_HOT,\n    PLANET_TRAIT_INTELLIGENT_LIFE,\n    PLANET_TRAIT_METEOR_SHOWER,\n    PLANET_TRAIT_OCEAN,\n    PLANET_TRAIT_PLANT_LIFE,\n    PLANET_TRAIT_ROBOTS,\n    PLANET_TRAIT_SMALL,\n    PLANET_TRAIT_VOLCANIC,\n    PLANET_TRAIT_WIND\n} from \"./traits\";\nimport {\n    ZONE_TYPE_CITY,\n    ZONE_TYPE_CLOUD,\n    ZONE_TYPE_CONTAINER,\n    ZONE_TYPE_CRATER,\n    ZONE_TYPE_DESERT,\n    ZONE_TYPE_FOREST,\n    ZONE_TYPE_GLACIER,\n    ZONE_TYPE_MOUNTAIN,\n    ZONE_TYPE_NEST,\n    ZONE_TYPE_OCEAN,\n    ZONE_TYPE_PLAINS,\n    ZONE_TYPE_RIVER,\n    ZONE_TYPE_VALLEY\n} from \"./zones\";\n\nexport const PLANET_ARCHETYPES = [\n    {\n        id: 1,\n        names: [\"Eallejo\", \"Itheanist\", \"Ushain\", \"Ouckesi\"],\n        image: planets1,\n        minSurfaceZones: 4,\n        maxSurfaceZones: 6,\n        traits: [\n            PLANET_TRAIT_INTELLIGENT_LIFE,\n            PLANET_TRAIT_WIND,\n            PLANET_TRAIT_PLANT_LIFE\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 3.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        id: 2,\n        names: [\"Ijabeibu\", \"Gaeffe\", \"Kroort\", \"Nuonge\"],\n        image: planets2,\n        minSurfaceZones: 1,\n        maxSurfaceZones: 3,\n        traits: [\n            PLANET_TRAIT_SMALL,\n            PLANET_TRAIT_COLD,\n            PLANET_TRAIT_ROBOTS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        id: 3,\n        names: [\"Entuceff\", \"Toontebe\", \"Niane\", \"Trang\"],\n        image: planets3,\n        minSurfaceZones: 3,\n        maxSurfaceZones: 6,\n        traits: [\n            PLANET_TRAIT_GAS_GIGANT,\n            PLANET_TRAIT_COLD,\n            PLANET_TRAIT_WIND\n\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        id: 4,\n        names: [\"Olinia\", \"Atarted\", \"Preaheshe\", \"Loulo\"],\n        image: planets4,\n        minSurfaceZones: 4,\n        maxSurfaceZones: 6,\n        traits: [\n            PLANET_TRAIT_METEOR_SHOWER,\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_VOLCANIC\n\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        id: 5,\n        names: [\"Azoeck\", \"Oetatent\", \"Kleasa\", \"Nawue\"],\n        image: planets5,\n        minSurfaceZones: 3,\n        maxSurfaceZones: 6,\n        traits: [\n            PLANET_TRAIT_METEOR_SHOWER,\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_ROBOTS\n\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 6,\n        names: [\"Azewaewe\", \"Ruockuli\", \"Igooss\", \"Ledei\", \"Toergena\"],\n        image: planets6,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_WIND,\n            PLANET_TRAIT_BIO_HAZARD,\n            PLANET_TRAIT_BUGS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_NEST, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 7,\n        names: [\"Heacke\", \"Iwessac\", \"Chunent\", \"Kloze\", \"Airgera\"],\n        image: planets7,\n        \"minSurfaceZones\": 4,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_GRAVITY,\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_BUGS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_NEST, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 8,\n        names: [\"Cliege\", \"Cleseth\", \"Ushaul\", \"Geishef\"],\n        image: planets8,\n        \"minSurfaceZones\": 4,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_PLANT_LIFE,\n            PLANET_TRAIT_BIO_HAZARD,\n            PLANET_TRAIT_OCEAN\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 9,\n        names: [\"Thaelo\", \"Soenta\", \"Elortos\", \"Usetuota\"],\n        image: planets9,\n        \"minSurfaceZones\": 1,\n        \"maxSurfaceZones\": 3,\n        \"traits\": [\n            PLANET_TRAIT_SMALL,\n            PLANET_TRAIT_COLD,\n            PLANET_TRAIT_INTELLIGENT_LIFE\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 10,\n        names: [\"Eartate\", \"Pleremn\", \"Renta\", \"Argall\"],\n        image: planets10,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_GAS_GIGANT,\n            PLANET_TRAIT_PLANT_LIFE,\n            PLANET_TRAIT_GRAVITY\n\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 3.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 3.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 11,\n        names: [\"Drootucke\", \"Usseava\", \"Praust\", \"Oumurtick\"],\n        image: planets11,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_METEOR_SHOWER,\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_VOLCANIC\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 12,\n        names: [\"Luoce\", \"Guese\", \"Klere\", \"Krosu\", \"Maese\"],\n        image: planets12,\n        \"minSurfaceZones\": 1,\n        \"maxSurfaceZones\": 3,\n        \"traits\": [\n            PLANET_TRAIT_SMALL,\n            PLANET_TRAIT_COLD\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 13,\n        names: [\"Engoss\", \"Inaff\", \"Easemnerg\", \"Raungi\"],\n        image: planets13,\n        \"minSurfaceZones\": 1,\n        \"maxSurfaceZones\": 3,\n        \"traits\": [\n            PLANET_TRAIT_SMALL,\n            PLANET_TRAIT_METEOR_SHOWER\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 14,\n        names: [\"Claeng\", \"Ustiata\", \"Illerash\", \"Trese\"],\n        image: planets14,\n        \"minSurfaceZones\": 2,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_METEOR_SHOWER,\n            PLANET_TRAIT_ROBOTS,\n            PLANET_TRAIT_COLD\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 5.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 15,\n        names: [\"New Earth\", \"Volaris\", \"Moonstone\", \"P4B-282\"],\n        image: planets15,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_PLANT_LIFE,\n            PLANET_TRAIT_INTELLIGENT_LIFE\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 16,\n        names: [\"Ackouta\", \"Eumimaff\", \"Europa\", \"Arteck\"],\n        image: planets16,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_GRAVITY,\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_ROBOTS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 17,\n        names: [\"Shaulurte\", \"Ortoede\", \"Oustave\", \"Trene\"],\n        image: planets17,\n        \"minSurfaceZones\": 4,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_BIO_HAZARD,\n            PLANET_TRAIT_GRAVITY,\n            PLANET_TRAIT_ROBOTS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 18,\n        names: [\"Plialu\", \"Knolaerg\", \"Ainethest\", \"Uroumem\"],\n        image: planets18,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_GAS_GIGANT,\n            PLANET_TRAIT_BIO_HAZARD,\n            PLANET_TRAIT_WIND\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 19,\n        names: [\"Orion\", \"Oseanan\", \"Ickent\", \"Ineack\"],\n        image: planets19,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_PLANT_LIFE,\n            PLANET_TRAIT_BUGS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_NEST, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 20,\n        names: [\"Cuethaj\", \"Saingel\", \"Eneill\", \"Smeist\"],\n        image: planets20,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 6,\n        \"traits\": [\n            PLANET_TRAIT_GAS_GIGANT,\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_INTELLIGENT_LIFE\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 21,\n        names: [\"Eanellesh\", \"Imeabeb\", \"Euthene\", \"Antour\", \"Poeste\"],\n        image: planets21,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 8,\n        \"traits\": [\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_VOLCANIC\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 22,\n        names: [\"Oushaye\", \"Klusu\", \"Nell\", \"Orgell\", \"Areth\", \"Cluverg\"],\n        image: planets22,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 8,\n        \"traits\": [\n            PLANET_TRAIT_WIND,\n            PLANET_TRAIT_OCEAN,\n            PLANET_TRAIT_VOLCANIC\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_OCEAN, weight: 1.0},\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_CITY, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CRATER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CLOUD, weight: 1.0},\n            {zoneType: ZONE_TYPE_GLACIER, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        \"id\": 23,\n        names: [\"Plixi\", \"Aissetu\", \"Axart\", \"Prata\", \"Ilokooko\"],\n        \"image\": planets23,\n        \"minSurfaceZones\": 3,\n        \"maxSurfaceZones\": 8,\n        \"traits\": [\n            PLANET_TRAIT_HOT,\n            PLANET_TRAIT_VOLCANIC,\n            PLANET_TRAIT_BUGS\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_DESERT, weight: 1.0},\n            {zoneType: ZONE_TYPE_NEST, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n    {\n        id: 24,\n        names: [\"Ploolulle\", \"Isheweth\", \"Itass\", \"Oufathost\", \"Ouvuveff\"],\n        image: planets24,\n        minSurfaceZones: 3,\n        maxSurfaceZones: 9,\n        traits: [\n            PLANET_TRAIT_WIND,\n            PLANET_TRAIT_PLANT_LIFE,\n            PLANET_TRAIT_BIO_HAZARD\n        ],\n        zoneTypeWeights: [\n            {zoneType: ZONE_TYPE_RIVER, weight: 1.0},\n            {zoneType: ZONE_TYPE_VALLEY, weight: 1.0},\n            {zoneType: ZONE_TYPE_PLAINS, weight: 1.0},\n            {zoneType: ZONE_TYPE_MOUNTAIN, weight: 1.0},\n            {zoneType: ZONE_TYPE_FOREST, weight: 1.0},\n            {zoneType: ZONE_TYPE_CONTAINER, weight: 1.0},\n        ],\n    },\n\n];","export const PLANET_TRAIT_WIND = \"Wind\";\nexport const PLANET_TRAIT_VOLCANIC = \"Volcanoes\";\nexport const PLANET_TRAIT_SMALL = \"Small size\";\nexport const PLANET_TRAIT_ROBOTS = \"AI robots\";\nexport const PLANET_TRAIT_PLANT_LIFE = \"Plant life\";\nexport const PLANET_TRAIT_OCEAN = \"Gigantic oceans\";\nexport const PLANET_TRAIT_METEOR_SHOWER = \"Meteor showers\";\nexport const PLANET_TRAIT_INTELLIGENT_LIFE = \"Aliens\";\nexport const PLANET_TRAIT_HOT = \"Hot temperature\";\nexport const PLANET_TRAIT_GRAVITY = \"High gravity\";\nexport const PLANET_TRAIT_GAS_GIGANT = \"Thick atmosphere\";\nexport const PLANET_TRAIT_COLD = \"Cold temperature\";\nexport const PLANET_TRAIT_BUGS = \"Bugs\";\nexport const PLANET_TRAIT_BIO_HAZARD = \"Toxic atmosphere\";\n\nexport const PLANET_TRAITS = [\n\tPLANET_TRAIT_WIND,\n\tPLANET_TRAIT_VOLCANIC,\n\tPLANET_TRAIT_SMALL,\n\tPLANET_TRAIT_ROBOTS,\n\tPLANET_TRAIT_PLANT_LIFE,\n\tPLANET_TRAIT_OCEAN,\n\tPLANET_TRAIT_METEOR_SHOWER,\n\tPLANET_TRAIT_INTELLIGENT_LIFE,\n\tPLANET_TRAIT_HOT,\n\tPLANET_TRAIT_GRAVITY,\n\tPLANET_TRAIT_GAS_GIGANT,\n\tPLANET_TRAIT_COLD,\n\tPLANET_TRAIT_BUGS,\n\tPLANET_TRAIT_BIO_HAZARD\n];","import React from \"react\";\nimport Exploration from \"../game/Exploration\";\nimport * as Serialization from \"../misc/Serialisation\";\nimport Icon from \"../components/Icon\";\n\nexport class ResourceExploration extends Exploration {\n    constructor({resource, count = 1, ...config} = {}) {\n        console.assert(typeof count === 'number', count);\n\n        let providedResources = [];\n        for (let i = 0; i < count; i++) {\n            providedResources.push(resource);\n        }\n\n        super({\n            providedResources: providedResources,\n            ...config\n        });\n\n        this.resource = resource;\n        this.count = count;\n    }\n\n    calculate(zone) {\n        return {\n            result: <React.Fragment>\n                You found <Icon obj={this.resource} count={this.count} /> in the {zone.name.toLowerCase()}.\n            </React.Fragment>,\n            voice: `You found ${this.count} ${this.count === 1 ? this.resource.name : this.resource.plural}.`,\n        }\n    }\n}\n\nSerialization.registerDynamicClass(ResourceExploration, \"ResourceExploration\");\n\n","import React from \"react\";\nimport Exploration, {exploreAndReturnToScanner, returnToScanner} from \"../game/Exploration\";\nimport {CREW_CAPTAIN, RESOURCE_B, RESOURCE_D} from \"../data/resources\";\nimport {Universe} from \"../game/Universe\";\nimport {PLANET_TRAIT_BUGS, PLANET_TRAIT_INTELLIGENT_LIFE, PLANET_TRAIT_ROBOTS} from \"../data/traits\";\nimport {\n    ZONE_TYPE_CITY,\n    ZONE_TYPE_CLOUD,\n    ZONE_TYPE_CRATER,\n    ZONE_TYPE_DESERT,\n    ZONE_TYPE_FOREST,\n    ZONE_TYPE_GLACIER,\n    ZONE_TYPE_MOUNTAIN,\n    ZONE_TYPE_NEST,\n    ZONE_TYPE_OCEAN,\n    ZONE_TYPE_PLAINS,\n    ZONE_TYPE_RIVER,\n    ZONE_TYPE_VALLEY\n} from \"../data/zones\";\nimport * as Serialization from \"../misc/Serialisation\";\nimport {StaticObject} from \"../misc/Serialisation\";\n\nimport Icon from \"../components/Icon\";\nimport {createDataLogResultVoiceButtons} from \"./dataLogs\";\nimport {getRandomInt} from \"../misc/Utils\";\n\nclass SpeciesInfo extends StaticObject {\n    constructor({name, trait, zones, ...config}) {\n        super(config);\n\n        this.name = name;\n        this.trait = trait;\n        this.zones = zones;\n    }\n}\n\nexport const SPECIES_ROBOTS = new SpeciesInfo({\n    name: \"Robots\",\n    id: \"robots\",\n    trait: PLANET_TRAIT_ROBOTS,\n    zones: [\n        ZONE_TYPE_OCEAN,\n        ZONE_TYPE_RIVER,\n        ZONE_TYPE_VALLEY,\n        ZONE_TYPE_PLAINS,\n        ZONE_TYPE_DESERT,\n        ZONE_TYPE_CITY,\n        ZONE_TYPE_NEST,\n        ZONE_TYPE_MOUNTAIN,\n        ZONE_TYPE_CRATER,\n        ZONE_TYPE_FOREST,\n        ZONE_TYPE_CLOUD,\n        ZONE_TYPE_GLACIER,\n    ]\n});\n\nexport const SPECIES_BUGS = new SpeciesInfo({\n    name: \"Bugs\",\n    id: \"bugs\",\n    trait: PLANET_TRAIT_BUGS,\n    zones: [\n        ZONE_TYPE_RIVER,\n        ZONE_TYPE_VALLEY,\n        ZONE_TYPE_PLAINS,\n        ZONE_TYPE_DESERT,\n        ZONE_TYPE_CITY,\n        ZONE_TYPE_NEST,\n        ZONE_TYPE_CRATER,\n        ZONE_TYPE_FOREST,\n    ]\n});\n\nexport const SPECIES_INTELLIGENT_LIFE = new SpeciesInfo({\n    name: \"Aliens\",\n    id: \"aliens\",\n    trait: PLANET_TRAIT_INTELLIGENT_LIFE,\n    zones: [\n        ZONE_TYPE_RIVER,\n        ZONE_TYPE_VALLEY,\n        ZONE_TYPE_PLAINS,\n        ZONE_TYPE_DESERT,\n        ZONE_TYPE_CITY,\n        ZONE_TYPE_NEST,\n        ZONE_TYPE_MOUNTAIN,\n        ZONE_TYPE_CRATER,\n        ZONE_TYPE_FOREST,\n        ZONE_TYPE_CLOUD,\n        ZONE_TYPE_GLACIER,\n    ]\n});\n\nexport class SharingSpeciesExploration extends Exploration {\n    constructor({species, ...config}) {\n        super(config);\n        this.species = species;\n    }\n\n    calculate(zone) {\n        let universe = Universe.theUniverse;\n\n        if (universe.remainingDataLogCards.length > 0) {\n            return createDataLogResultVoiceButtons({\n                universe: Universe.theUniverse,\n                voice: `Data log found`,\n                reason: <React.Fragment>\n                    While exploring the {zone.name}, your team has encountered {this.species.name}. They\n                    are peaceful and would like to share with you their findings in this data log:<br/><br/>\n                </React.Fragment>,\n                onOK: () => returnToScanner(),\n            });\n        } else {\n            return {\n                result: <React.Fragment>\n                    While exploring the {zone.name}, your team has encountered {this.species.name}. They\n                    are peaceful and passed without taking notice of you.\n                </React.Fragment>,\n                voice: `You haven't found anything of interest`\n            };\n        }\n    }\n}\n\nSerialization.registerDynamicClass(SharingSpeciesExploration, \"SharingSpeciesExploration\");\n\nexport class TradingSpeciesExploration extends Exploration {\n    constructor({species, tradingResource, tradingResourceCount = 1, ...config}) {\n        super({\n            providedResources: [RESOURCE_D],\n            requiredResources: Array(tradingResourceCount).fill(tradingResource),\n            ...config\n        });\n\n        this.species = species;\n        this.tradingResource = tradingResource;\n        this.tradingResourceCount = tradingResourceCount;\n    }\n\n    calculate(zone) {\n        let result = <React.Fragment>\n            <p>{this.species.name} want to trade, you may spend {this.tradingResourceCount} {this.tradingResource.plural} to gain one artifact.</p>\n            <p>You may exhaust a captain <Icon obj={CREW_CAPTAIN}/> to negotiate with the aliens, if you do, aliens are happy to give you this artifact for 1 {this.tradingResource.name}.</p>\n        </React.Fragment>;\n        let voice = `You encounter an artifact trader.`;\n        let buttons = [\n            {name: \"Traded\", onClick: () => exploreAndReturnToScanner(zone)},\n            {name: \"Didn't trade\", onClick: () => returnToScanner(zone)},\n        ];\n        return {result, voice, buttons}\n    }\n}\n\nSerialization.registerDynamicClass(TradingSpeciesExploration, \"TradingSpeciesExploration\");\n\nexport class HostileSpeciesExploration extends Exploration {\n    constructor({species, ...config}) {\n        super(config);\n        this.species = species;\n    }\n\n    calculate(zone) {\n        let survivalPower = getRandomInt(1, 3);\n\n        return {\n            result: <React.Fragment>\n                <p>{this.species.name} have attacked your team while they were exploring the {zone.name}.</p>\n                <p>If you have less than {survivalPower} power, your entire team died.</p>\n                <p>If you have {survivalPower}  power, one crew member of your choice died.</p>\n                <p>If you have {survivalPower}+  power, you also acquired <Icon obj={RESOURCE_B} />.</p>\n            </React.Fragment>,\n            voice: `Warning, we have lost contact.`,\n            buttons: [\n                {name: \"OK\", onClick: () => exploreAndReturnToScanner(zone)},\n            ]\n        }\n    }\n}\n\nSerialization.registerDynamicClass(HostileSpeciesExploration, \"HostileSpeciesExploration\");","import {getRandomElement, shuffle, speak} from \"../misc/Utils\";\nimport React from \"react\";\nimport Exploration, {returnToScanner} from \"../game/Exploration\";\nimport * as Serialization from \"../misc/Serialisation\";\nimport {fillZoneCandidates, Universe} from \"../game/Universe\";\nimport {RESOURCE_D} from \"../data/resources\";\nimport {PLANET_TRAIT_GRAVITY, PLANET_TRAIT_PLANT_LIFE, PLANET_TRAIT_VOLCANIC, PLANET_TRAIT_WIND} from \"../data/traits\";\nimport './genesis.css';\nimport Icon from \"../components/Icon\";\nimport DataLog from \"../game/DataLog\";\nimport dataLogImage21 from \"../data/cards/datalogs21.jpg\";\nimport dataLogImage22 from \"../data/cards/datalogs22.jpg\";\nimport dataLogImage23 from \"../data/cards/datalogs23.jpg\";\nimport dataLogImage24 from \"../data/cards/datalogs24.jpg\";\nimport dataLogImage25 from \"../data/cards/datalogs25.jpg\";\nimport dataLogImage26 from \"../data/cards/datalogs26.jpg\";\nimport dataLogImage27 from \"../data/cards/datalogs27.jpg\";\nimport dataLogImage28 from \"../data/cards/datalogs28.jpg\";\nimport dataLogImage29 from \"../data/cards/datalogs29.jpg\";\nimport Filter from \"../game/Filter\";\n\n\nclass GenesisDeviceActiveExploration extends Exploration{\n    constructor({codes, theCode,...config} = {}) {\n        super({\n            requiredResources: [RESOURCE_D, RESOURCE_D, RESOURCE_D, RESOURCE_D, RESOURCE_D],\n            ...config\n        });\n\n        this.codes = codes;\n        this.theCode = theCode;\n    }\n\n    calculate(zone) {\n        let codeButtons = [];\n\n        for (let code of this.codes) {\n            codeButtons.push(<button className=\"genesis-button\" onClick={() => {\n                if (code === this.theCode) {\n                    speak('You entered the code, the devices starts to activate. You can now control time and space. The code was correct, you win the game.');\n                    returnToScanner();\n                } else {\n                    speak('You entered the code, the devices starts to activate, but then shuts down. The code must have been incorrect.');\n                    returnToScanner();\n                }\n            }}>{code}</button>);\n        }\n\n        return {\n            result: <React.Fragment>\n                <p>You found the <em>Genesis device</em>. It's humming and ready to be used. You can spend 1 artifact to try to activate it. If you do, choose one of the following codes:</p>\n                {codeButtons}\n            </React.Fragment>,\n            voice: `You found the Genesis device. You can spend 1 artifact to try to activate it.`,\n            buttons: [{name: \"Back\", onClick: () => { returnToScanner(); }}],\n        }\n    }\n}\n\nclass GenesisDeviceInActiveExploration extends Exploration {\n    constructor({...config} = {}) {\n        super({\n            requiredResources: [RESOURCE_D, RESOURCE_D, RESOURCE_D, RESOURCE_D, RESOURCE_D],\n            ...config\n        });\n    }\n\n    calculate(zone) {\n        return {\n            result: <React.Fragment><p>You haven't found anything of interest? Or did you?</p> <p>You have found a gigantic ancient <em>genesis device</em>.</p><p>How does one power it up? You have a hunch the answer may lie in another part of the galaxy.</p></React.Fragment>,\n            voice: `You haven't found anything of interest.`,\n            buttons: [{name: \"OK\", onClick: () => { returnToScanner() } }]\n        }\n    }\n}\n\nclass GenesisBeaconExploration extends Exploration{\n    constructor({...config} = {}) {\n        super({\n            providedResources: [RESOURCE_D],\n            ...config\n        });\n    }\n\n    calculate(zone) {\n        return {\n            result: <React.Fragment>\n                <p>You have found a strange ancient beacon. As you approached it, it started to activate.</p>\n                <p>Gain an {RESOURCE_D.name} <Icon obj={RESOURCE_D} />.</p>\n                <p>It seem to be broadcasting some kind of signal. Could it be awaking something important?.</p>\n            </React.Fragment>,\n            voice: `You have found a strange ancient beacon. As you approached it, it started to activate. Gain an ${RESOURCE_D.name}`,\n            buttons: [\n                {\n                    name: \"OK\", onClick: () => {\n                        //\n                        // Explore the current zone\n                        //\n                        zone.markExplored();\n\n                        //\n                        // Activate the genesis device\n                        //\n                        let genesisDevice = Universe.theUniverse.definition.genesis.device;\n                        Universe.theUniverse.planets[genesisDevice.planetId].getZone(genesisDevice.zoneLocation).exploration = new GenesisDeviceActiveExploration();\n                        Universe.notifyThatUniverseChanged();\n\n                        returnToScanner(zone);\n                    }\n                }\n            ],\n        }\n    }\n}\n\nexport let GENESIS_SET_ID = \"GENESIS\";\n\nexport const DATA_LOG_GENESIS_HIGH_GRAVITY = new DataLog({\n    id: 21,\n    image: dataLogImage21,\n    setIds: [GENESIS_SET_ID],\n    fill: (universe) => {\n        fillGenesis(universe, new Filter({includedPlanetTraits: PLANET_TRAIT_GRAVITY}));\n    }\n});\n\nexport const DATA_LOG_GENESIS_STRONG_WINDS = new DataLog({\n    id: 22,\n    image: dataLogImage22,\n    setIds: [GENESIS_SET_ID],\n    fill: (universe) => {\n        fillGenesis(universe, new Filter({includedPlanetTraits: PLANET_TRAIT_WIND}));\n    }\n});\n\nexport const DATA_LOG_GENESIS_VOLCANO = new DataLog({\n    id: 23,\n    image: dataLogImage23,\n    setIds: [GENESIS_SET_ID],\n    fill: (universe) => {\n        fillGenesis(universe, new Filter({includedPlanetTraits: PLANET_TRAIT_VOLCANIC}));\n    }\n});\n\nexport const DATA_LOG_GENESIS_FOREST = new DataLog({\n    id: 24,\n    image: dataLogImage24,\n    setIds: [GENESIS_SET_ID],\n    fill: (universe) => {\n        fillGenesis(universe, new Filter({includedPlanetTraits: PLANET_TRAIT_PLANT_LIFE}));\n    }\n});\n\nconst DATA_LOGS_CODE_FRAGMENTS = [\n    new DataLog({id: 25, image: dataLogImage25}), //0\n    new DataLog({id: 26, image: dataLogImage26}), //1\n    new DataLog({id: 27, image: dataLogImage27}), //2\n    new DataLog({id: 28, image: dataLogImage28}), //3\n    new DataLog({id: 29, image: dataLogImage29}), //4\n];\n\nexport function fillGenesis(universe, filter) {\n    let codes = [[0, 2], [0, 3], [0, 4], [1, 2], [1, 3], [1, 4]];\n    let theCode = getRandomElement(codes);\n    shuffle(codes);\n\n    universe.dataLogs.add(DATA_LOGS_CODE_FRAGMENTS[theCode[0]]);\n    universe.dataLogs.add(DATA_LOGS_CODE_FRAGMENTS[theCode[1]]);\n\n    fillZoneCandidates({\n        universe,\n        exploration: new GenesisDeviceActiveExploration({codes: codes, theCode: theCode}),\n        minTotal: 1,\n        maxTotal: 1,\n        filter,\n    });\n}\n\nSerialization.registerDynamicClass(GenesisDeviceActiveExploration, \"GenesisDeviceActiveExploration\");\nSerialization.registerDynamicClass(GenesisDeviceInActiveExploration, \"GenesisDeviceInActiveExploration\");\nSerialization.registerDynamicClass(GenesisBeaconExploration, \"GenesisBeaconExploration\");\n","import dataLogImage1 from \"../data/cards/datalogs.jpg\";\nimport dataLogImage2 from \"../data/cards/datalogs2.jpg\";\nimport dataLogImage3 from \"../data/cards/datalogs3.jpg\";\nimport dataLogImage4 from \"../data/cards/datalogs4.jpg\";\nimport dataLogImage5 from \"../data/cards/datalogs5.jpg\";\nimport dataLogImage6 from \"../data/cards/datalogs6.jpg\";\nimport dataLogImage7 from \"../data/cards/datalogs7.jpg\";\nimport dataLogImage8 from \"../data/cards/datalogs8.jpg\";\nimport dataLogImage9 from \"../data/cards/datalogs9.jpg\";\nimport dataLogImage10 from \"../data/cards/datalogs10.jpg\";\nimport dataLogImage11 from \"../data/cards/datalogs11.jpg\";\nimport dataLogImage12 from \"../data/cards/datalogs12.jpg\";\nimport dataLogImage13 from \"../data/cards/datalogs13.jpg\";\nimport dataLogImage14 from \"../data/cards/datalogs14.jpg\";\nimport dataLogImage15 from \"../data/cards/datalogs15.jpg\";\nimport dataLogImage16 from \"../data/cards/datalogs16.jpg\";\nimport dataLogImage17 from \"../data/cards/datalogs17.jpg\";\nimport dataLogImage18 from \"../data/cards/datalogs18.jpg\";\nimport dataLogImage19 from \"../data/cards/datalogs19.jpg\";\nimport dataLogImage20 from \"../data/cards/datalogs20.jpg\";\nimport dataLogImage30 from \"../data/cards/datalogs30.jpg\";\nimport dataLogImage31 from \"../data/cards/datalogs31.jpg\";\n\n\nimport Filter from \"../game/Filter\";\nimport {RESOURCE_A, RESOURCE_B, RESOURCE_D} from \"../data/resources\";\nimport {\n    PLANET_TRAIT_BIO_HAZARD,\n    PLANET_TRAIT_BUGS,\n    PLANET_TRAIT_COLD,\n    PLANET_TRAIT_GRAVITY,\n    PLANET_TRAIT_HOT,\n    PLANET_TRAIT_INTELLIGENT_LIFE,\n    PLANET_TRAIT_METEOR_SHOWER,\n    PLANET_TRAIT_OCEAN,\n    PLANET_TRAIT_PLANT_LIFE,\n    PLANET_TRAIT_ROBOTS,\n    PLANET_TRAIT_VOLCANIC,\n    PLANET_TRAIT_WIND\n} from \"../data/traits\";\nimport {\n    ZONE_TYPE_CONTAINER,\n    ZONE_TYPE_DESERT,\n    ZONE_TYPE_FOREST,\n    ZONE_TYPE_MOUNTAIN,\n    ZONE_TYPE_OCEAN,\n    ZONE_TYPE_PLAINS,\n    ZONE_TYPE_RIVER,\n    ZONE_TYPE_VALLEY\n} from \"../data/zones\";\nimport {ResourceExploration} from \"./resource\";\nimport DataLog from \"../game/DataLog\";\nimport {fillZoneCandidates, fillZoneCandidatesWithDistribution} from \"../game/Universe\";\nimport {\n    EXPLORATION_EXTREME_HEAT,\n    EXPLORATION_FROZE_TO_DEATH,\n    EXPLORATION_METEOR_SHOWER,\n    EXPLORATION_POISONOUS_PLANTS,\n    EXPLORATION_TOXIC_VAPOURS,\n    EXPLORATION_VOLCANO,\n    FireExploration,\n    MagnesiumExploration\n} from \"./environment\";\nimport {\n    HostileSpeciesExploration,\n    SharingSpeciesExploration,\n    SPECIES_BUGS,\n    SPECIES_INTELLIGENT_LIFE,\n    SPECIES_ROBOTS,\n    TradingSpeciesExploration\n} from \"./alienSpecies\";\nimport {getRandomInt} from \"../misc/Utils\";\nimport {fillGenesis, GENESIS_SET_ID} from \"./genesis\";\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_CRYSTALS_DEFAULT = new DataLog({\n    id: \"CRYSTALS-DEFAULT\",\n    canBeFound: false,\n    setIds: [RESOURCE_A.id],\n    fill: (universe) => {\n        fillZoneCandidatesWithDistribution({\n            universe,\n            explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_A, count}),\n            countFrequencies: {1: 0.3, 2: 0.4, 3: 0.3},\n            minTotal: 15,\n            maxTotal: 20,\n            filter: new Filter(),\n        });\n    }\n});\n\nexport const DATA_LOG_PLANTS_CRYSTALS = new DataLog({\n    id:  2,\n    image: dataLogImage2,\n    canBeFound: true,\n    setIds: [RESOURCE_A.id],\n    fill: (universe) => {\n        let common = {universe, explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_A, count}), countFrequencies: {1:  0.3, 2: 0.4, 3: 0.3}};\n\n        fillZoneCandidatesWithDistribution({surfaceMinRatio: 0.1, minTotal: 15, maxTotal: 20, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_PLANT_LIFE}), ...common});\n    }\n});\n\nexport const DATA_LOG_SALT_CRYSTALS = new DataLog({\n    id:  3,\n    image: dataLogImage3,\n    canBeFound: true,\n    setIds: [RESOURCE_A.id],\n    fill: (universe) => {\n        let common = {universe, explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_A, count}), countFrequencies: {1:  0.3, 2: 0.4, 3: 0.3}};\n\n        fillZoneCandidatesWithDistribution({surfaceMinRatio: 0.1, minTotal: 15, maxTotal: 20, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_OCEAN}), ...common});\n    }\n});\n\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_GAS_DEFAULT = new DataLog({\n    id: \"GAS-DEFAULT\",\n    canBeFound: false,\n    setIds: [RESOURCE_B.id],\n    fill: (universe) => {\n        fillZoneCandidatesWithDistribution({\n            universe,\n            explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_B, count}),\n            countFrequencies: {1: 0.3, 2: 0.4, 3: 0.3},\n            minTotal: 15,\n            maxTotal: 20,\n            filter: new Filter(),\n        });\n    }\n});\n\nexport const DATA_LOG_FUEL_FECES = new DataLog({\n    id:  4,\n    image: dataLogImage4,\n    canBeFound: true,\n    setIds: [RESOURCE_B.id],\n    fill: (universe) => {\n        let common = {universe, explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_B, count}), countFrequencies: {1:  0.3, 2: 0.4, 3: 0.3}};\n\n        fillZoneCandidatesWithDistribution({surfaceMinRatio: 0.1, minTotal: 15, maxTotal: 20, filter: new Filter({includedPlanetTraits: PLANET_TRAIT_BUGS}), ...common});\n    }\n});\n\nexport const DATA_LOG_HAZARDOUS_FUEL = new DataLog({\n    id:  5,\n    image: dataLogImage5,\n    canBeFound: true,\n    setIds: [RESOURCE_B.id],\n    fill: (universe) => {\n        let common = {universe, explorationCreator: (count) => new ResourceExploration({resource: RESOURCE_B, count}), countFrequencies: {1:  0.3, 2: 0.4, 3: 0.3}};\n\n        fillZoneCandidatesWithDistribution({surfaceMinRatio: 0.1, minTotal: 15, maxTotal: 20, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_BIO_HAZARD}), ...common});\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_ANCIENT_SINGULARITY = new DataLog({\n    id: 6,\n    image: dataLogImage6,\n    canBeFound: true,\n    setIds: [RESOURCE_D.id, PLANET_TRAIT_ROBOTS],\n    fill: (universe) => {\n        let exploration = new ResourceExploration({resource: RESOURCE_D});\n\n        fillZoneCandidates({\n            universe,\n            exploration,\n            surfaceMinRatio: 0.1,\n            minTotal: 3,\n            maxTotal: 5,\n            filter: new Filter({includedPlanetTraits: PLANET_TRAIT_ROBOTS})\n        });\n\n        fillZoneCandidates({\n            universe,\n            exploration: new HostileSpeciesExploration({species: SPECIES_ROBOTS}),\n            surfaceMaxRatio: 0.75,\n            filter: new Filter({\n                includedPlanetTraits: SPECIES_ROBOTS.trait,\n                includedZoneTypes: SPECIES_ROBOTS.zones,\n            })\n        });\n    }\n});\n\n\nexport const DATA_LOG_WINDY_ARTIFACTS = new DataLog({\n    id:  7,\n    image: dataLogImage7,\n    canBeFound: true,\n    setIds: [RESOURCE_D.id],\n    fill: (universe) => {\n        let exploration = new ResourceExploration({resource: RESOURCE_D});\n\n        fillZoneCandidates({universe, exploration, surfaceMinRatio: 0.1, minTotal: 3, maxTotal: 5, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_WIND})});\n    }\n});\n\nexport const DATA_LOG_UNDERWATER_CITIES = new DataLog({\n    id:  8,\n    image: dataLogImage8,\n    canBeFound: true,\n    setIds: [RESOURCE_D.id],\n    fill: (universe) => {\n        let exploration = new ResourceExploration({resource: RESOURCE_D});\n\n        fillZoneCandidates({universe, exploration, surfaceMinRatio: 0.1, minTotal: 3, maxTotal: 5, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_OCEAN})});\n    }\n});\n\nexport const DATA_LOG_HOT_ANCIENTS = new DataLog({\n    id: 1,\n    image: dataLogImage1,\n    setIds: [RESOURCE_D.id],\n    fill: (universe) => {\n        let exploration = new ResourceExploration({resource: RESOURCE_D});\n\n        fillZoneCandidates({universe, exploration, surfaceMinRatio: 0.1, minTotal: 3, maxTotal: 5, filter: new Filter({includedPlanetTraits:PLANET_TRAIT_HOT})});\n        fillZoneCandidates({universe, exploration, surfaceMinRatio: 0.1, minTotal: 3, maxTotal: 5, filter: new Filter({includedZoneTypes:ZONE_TYPE_DESERT})});\n\n        if (universe.dataLogs.has(DATA_LOG_HIGH_VOLCANIC)) {\n            fillZoneCandidates({universe, exploration, surfaceMinRatio: 0.1, minTotal: 3, maxTotal: 5, filter: new Filter({includedZoneTypes: ZONE_TYPE_MOUNTAIN})});\n        }\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_NORMAL_TEMPERATURES = new DataLog({\n    id: \"TEMPERATURE-DEFAULT\",\n    canBeFound: false,\n    setIds: [\"TEMPERATURE\"],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_EXTREME_HEAT,\n            surfaceMaxRatio: 0.5,\n            maxTotal: 5,\n            filter: new Filter({\n                includedPlanetTraits: [PLANET_TRAIT_HOT],\n                excludedPlanetTraits: [PLANET_TRAIT_COLD, PLANET_TRAIT_PLANT_LIFE], // Plant life already has fires ...\n            })\n        });\n\n        fillZoneCandidates({\n            universe,\n            exploration: new FireExploration(),\n            surfaceMaxRatio: 0.5,\n            maxTotal: 5,\n            filter: new Filter({includedPlanetTraits: [[PLANET_TRAIT_PLANT_LIFE], [PLANET_TRAIT_HOT, PLANET_TRAIT_VOLCANIC, PLANET_TRAIT_METEOR_SHOWER]], excludedPlanetTraits: [PLANET_TRAIT_COLD], includedZoneTypes: [ZONE_TYPE_FOREST, ZONE_TYPE_PLAINS, ZONE_TYPE_VALLEY],})\n        });\n\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_FROZE_TO_DEATH,\n            surfaceMaxRatio: 0.5,\n            maxTotal: 5,\n            filter: new Filter({includedPlanetTraits: [PLANET_TRAIT_COLD], excludedPlanetTraits: [PLANET_TRAIT_HOT],})\n        });\n    }\n});\n\nexport const DATA_LOG_HIGH_TEMPERATURES = new DataLog({\n    id: 9,\n    image: dataLogImage9,\n    canBeFound: true,\n    setIds: [\"TEMPERATURE\"],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_EXTREME_HEAT,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({\n                includedPlanetTraits: [PLANET_TRAIT_HOT],\n                excludedPlanetTraits: [PLANET_TRAIT_COLD, PLANET_TRAIT_PLANT_LIFE], // Plant life already has fires ...\n            })\n        });\n\n        fillZoneCandidates({\n            universe,\n            exploration: new FireExploration(),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: [[PLANET_TRAIT_PLANT_LIFE], [PLANET_TRAIT_HOT, PLANET_TRAIT_VOLCANIC, PLANET_TRAIT_METEOR_SHOWER]], excludedPlanetTraits: [PLANET_TRAIT_COLD], includedZoneTypes: [ZONE_TYPE_FOREST, ZONE_TYPE_PLAINS, ZONE_TYPE_VALLEY],})\n        });\n    }\n});\n\nexport const DATA_LOG_LOW_TEMPERATURES = new DataLog({\n    id: 10,\n    image: dataLogImage10,\n    canBeFound: true,\n    setIds: [\"TEMPERATURE\"],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_FROZE_TO_DEATH,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: [PLANET_TRAIT_COLD], excludedPlanetTraits: [PLANET_TRAIT_HOT],})\n        });\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_HIGH_VOLCANIC = new DataLog({\n    id: 11,\n    image: dataLogImage11,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_VOLCANIC],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_VOLCANO,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: PLANET_TRAIT_VOLCANIC, includedZoneTypes: [ZONE_TYPE_MOUNTAIN]})\n        });\n    }\n});\n\nexport const DATA_LOG_NO_SEISMIC = new DataLog({\n    id: 12,\n    image: dataLogImage12,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_VOLCANIC],\n    fill: (universe) => {\n\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_POISONOUS_PLANTS = new DataLog({\n    id: 13,\n    image: dataLogImage13,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_PLANT_LIFE],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_POISONOUS_PLANTS,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: [PLANET_TRAIT_PLANT_LIFE], includedZoneTypes: [ZONE_TYPE_FOREST, ZONE_TYPE_MOUNTAIN, ZONE_TYPE_OCEAN, ZONE_TYPE_PLAINS, ZONE_TYPE_VALLEY, ZONE_TYPE_RIVER],})\n        });\n    }\n});\n\nexport const DATA_LOG_HARMLESS_PLANTS = new DataLog({\n    id: 14,\n    image: dataLogImage14,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_PLANT_LIFE],\n    fill: (universe) => {\n\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_HARMLESS_BIOHAZARD = new DataLog({\n    id: 15,\n    image: dataLogImage15,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_BIO_HAZARD],\n    fill: (universe) => {\n\n    }\n});\n\nexport const DATA_LOG_DEADLY_BIOHAZARD = new DataLog({\n    id: 16,\n    image: dataLogImage16,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_BIO_HAZARD],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_TOXIC_VAPOURS,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: PLANET_TRAIT_BIO_HAZARD})\n        });\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_NO_MAGNESIUM = new DataLog({\n    id: \"MAGNESIUM-DEFAULT\",\n    canBeFound: false,\n    setIds: [\"MAGNESIUM\"],\n    fill: (universe) => {}\n});\n\nexport const DATA_LOG_MAGNESIUM = new DataLog({\n    id: 17,\n    image: dataLogImage17,\n    canBeFound: true,\n    setIds: [\"MAGNESIUM\"],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: new MagnesiumExploration(),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: [PLANET_TRAIT_GRAVITY], includedZoneTypes: [ZONE_TYPE_MOUNTAIN],})\n        });\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_DANGEROUS_METEORS = new DataLog({\n    id: 19,\n    image: dataLogImage19,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_METEOR_SHOWER],\n    fill: (universe) => {\n        fillZoneCandidates({\n            universe,\n            exploration: EXPLORATION_METEOR_SHOWER,\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({includedPlanetTraits: PLANET_TRAIT_METEOR_SHOWER, excludedZoneTypes: [ZONE_TYPE_CONTAINER, ZONE_TYPE_OCEAN]})\n        });\n    }\n});\n\nexport const DATA_LOG_METEORS_STOPED_NOW_CRYSTALS = new DataLog({\n    id: 20,\n    image: dataLogImage20,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_METEOR_SHOWER, RESOURCE_A.id],\n    fill: (universe) => {\n        fillZoneCandidatesWithDistribution({\n            universe,\n            explorationCreator: (count) => new ResourceExploration({\n                resource: RESOURCE_A,\n                count\n            }),\n            countFrequencies: {1: 0.3, 2: 0.4, 3: 0.3},\n            minTotal: 10,\n            maxTotal: 20,\n            filter: new Filter({includedPlanetTraits: PLANET_TRAIT_METEOR_SHOWER}),\n        });\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\nexport const DATA_LOG_BUGS_LOVE_HIGH_GRAVITY = new DataLog({\n    id: 18,\n    image: dataLogImage18,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_BUGS],\n    fill: (universe) => {\n        let species = SPECIES_BUGS;\n        let exceptionTrait = PLANET_TRAIT_GRAVITY;\n        //let tradingResource = getRandomElement([RESOURCE_A, RESOURCE_B]);\n        //let tradingResourceCount = getRandomInt(2, 3);\n\n        fillZoneCandidates({\n            universe,\n            exploration: new HostileSpeciesExploration({species: species}),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({\n                includedPlanetTraits: species.trait,\n                excludedPlanetTraits: exceptionTrait,\n                includedZoneTypes: species.zones,\n            })\n        });\n\n        fillZoneCandidates({\n            universe,\n            exploration: new SharingSpeciesExploration({species: species}),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({\n                includedPlanetTraits: [[exceptionTrait], [species.trait]],\n                includedZoneTypes: species.zones,\n            })\n        });\n    }\n});\n\nexport const DATA_LOG_ALIEN_TRADERS = new DataLog({\n    id: 30,\n    image: dataLogImage30,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_INTELLIGENT_LIFE, RESOURCE_D.id],\n    fill: (universe) => {\n        let species = SPECIES_INTELLIGENT_LIFE;\n        let exceptionTrait = PLANET_TRAIT_COLD;\n\n        // Traders\n        fillZoneCandidates({\n            universe,\n            exploration: new TradingSpeciesExploration({species: species, tradingResource: RESOURCE_A, tradingResourceCount: getRandomInt(1, 2)}),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            minTotal: 10,\n            maxTotal: 15,\n            filter: new Filter({\n                includedPlanetTraits: species.trait,\n                excludedPlanetTraits: exceptionTrait,\n                includedZoneTypes: species.zones,\n            })\n        });\n\n        // Hostile faction\n        fillZoneCandidates({\n            universe,\n            exploration: new HostileSpeciesExploration({species: species}),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            filter: new Filter({\n                includedPlanetTraits: [[exceptionTrait], [species.trait]],\n                includedZoneTypes: species.zones,\n            })\n        });\n\n        // Few artifacts spread around the galaxy\n        fillZoneCandidates({\n            universe,\n            exploration: new ResourceExploration({resource: RESOURCE_D}),\n            minTotal: 3,\n            maxTotal: 5,\n            filter: new Filter()\n        });\n\n    }\n});\n\nexport const DATA_LOG_HOSTILE_ALIEN_FOUND_GENESIS = new DataLog({\n    id: 31,\n    image: dataLogImage31,\n    canBeFound: true,\n    setIds: [PLANET_TRAIT_INTELLIGENT_LIFE, GENESIS_SET_ID],\n    fill: (universe) => {\n        let species = SPECIES_INTELLIGENT_LIFE;\n\n        // Hostile action\n        fillZoneCandidates({\n            universe,\n            exploration: new HostileSpeciesExploration({species: species}),\n            surfaceMinRatio: 0.1,\n            surfaceMaxRatio: 0.8,\n            minTotal: 10,\n            maxTotal: 15,\n            filter: new Filter({\n                includedPlanetTraits: species.trait,\n                includedZoneTypes: species.zones,\n            })\n        });\n\n        fillGenesis(universe, new Filter({\n            includedPlanetTraits: species.trait,\n            includedZoneTypes: species.zones,\n        }));\n    }\n});\n\n////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n","import {Entity} from \"../game/Entity\";\nimport planets28 from \"../data/planets/planets28.jpg\";\nimport {returnToScanner} from \"../game/Exploration\";\nimport App from \"../components/App\";\nimport Dialog from \"../components/Dialog\";\nimport React from \"react\";\nimport {Universe} from \"../game/Universe\";\nimport * as Serialization from \"../misc/Serialisation\";\nimport Icon from \"../components/Icon\";\nimport {RESOURCE_B, RESOURCE_D} from \"../data/resources\";\nimport {speak} from \"../misc/Utils\";\n\nexport class SpaceStationEntity extends Entity {\n    constructor({id = 0, name = \"Albatross space station\", dataLog = null, image = planets28} = {}) {\n        super({id, name, image});\n\n        this.dataLog = dataLog;\n    }\n\n    notifyThatWasSelected() {\n        if (this.canBeSelected) {\n\n            let dataLog = Universe.theUniverse.remainingDataLogCards.peek();\n\n            App.COMPONENT.setAction(<Dialog\n                result={<React.Fragment>\n                    <h1>Albatross space station</h1>\n                    <p><em>Gain 1 gas <Icon obj={RESOURCE_B}/> and read the following out loud.</em></p>\n                    <p>Two days ago we completed a construction of this space station on this side of the Gamma\n                        Wormhole, we are ready to explore this part of the galaxy.</p>\n                    <p>From an ancient data log we have have found out about a race of ancients that used to live around\n                        here and crated a genesis device that allows the user to control space and time.</p>\n                    <p>Your goal is to find that device and activate it, you will probably need alien artifacts <Icon obj={RESOURCE_D} /> to do\n                        it.</p>\n                    <p>There is one other thing we have found so far:</p>\n                    <div className=\"data-log\">Place data log {dataLog.id} somewhere face up, it's the only data log\n                        visible to all players. <br/><br/><img src={dataLog.image} alt={\"data log\"}/></div>\n                    <p>Good luck!</p>\n                </React.Fragment>}\n                voice={'Welcome to the Albatross station'}\n                buttons={[{\n                    name: \"Finish exploration\", onClick: () => {\n                        this.dataLog = Universe.theUniverse.remainingDataLogCards.pop();\n                        console.assert(this.dataLog === dataLog);\n                        Universe.notifyThatUniverseChanged();\n\n                        speak(`${this.name} is now fully explored.`);\n\n                        returnToScanner()\n                    }\n                }]}\n            />);\n        } else {\n            speak(`${this.name} is fully explored.`);\n        }\n    }\n\n    get canBeSelected() {\n        return Universe.theUniverse.remainingDataLogCards.length > 0 && this.dataLog == null;\n    }\n}\n\nSerialization.registerDynamicClass(SpaceStationEntity, \"SpaceStationEntity\");","import {Planet, ScientistDataLogEntity, ZONE_CANDIDATE_PRIORITY_FLEX, ZONE_CANDIDATE_PRIORITY_MUST} from './Entity'\nimport {RESOURCES} from \"./Resource\";\n\nimport * as Serialisation from \"../misc/Serialisation\";\nimport * as Utils from \"../misc/Utils\";\nimport {chance, distributeCount, getRandomInt, getWeightedRandomElement} from \"../misc/Utils\";\nimport {\n    fillDataLogCards,\n    fillRandomizedDataLogs,\n    fillZoneCandidatesFromLogs,\n    fillZonesBasedOnCandidates\n} from \"./DataLog\";\nimport {PLANET_ARCHETYPES} from \"../data/planets\";\n\nimport \"../exploration/logs\";\nimport {fillDataLogExplorations} from \"../exploration/dataLogs\";\nimport {SpaceStationEntity} from \"../exploration/spaceStation\";\n\nexport class Universe {\n\n    constructor({name = \"\", entitiesMap = {}, definition = {}, dataLogs = new Set(), remainingDataLogCards = []} = {}) {\n        this.name = name;\n        this.entitiesMap = entitiesMap;\n        this.definition = definition;\n        this.dataLogs = dataLogs;\n        this.remainingDataLogCards = remainingDataLogCards;\n    }\n\n    get planets() {\n        let ret = [];\n\n        for (let entity of Object.values(this.entitiesMap)) {\n            if (entity instanceof Planet) {\n                ret.push(entity);\n            }\n        }\n\n        return ret;\n    }\n\n    get entities() {\n        return Object.values(this.entitiesMap);\n    }\n\n    registerEntity(entity) {\n        console.assert(!(entity.id in this.entitiesMap), \"Entity already registered\", entity.id, entity, this.entitiesMap[entity.id]);\n        return this.entitiesMap[entity.id] = entity;\n    }\n\n    entityForId(id) {\n        return this.entitiesMap[id];\n    }\n\n    static create() {\n        let universe = new Universe({name: chance.word()});\n\n        //\n        // Create empty planets\n        //\n        for (let planetArchetype of PLANET_ARCHETYPES) {\n            let planet = new Planet({\n                name: Utils.getRandomElement(planetArchetype.names),\n                targetSize: Utils.getRandomInt(planetArchetype.minSurfaceZones, planetArchetype.maxSurfaceZones),\n                ...planetArchetype\n            });\n\n            universe.registerEntity(planet);\n        }\n\n        let scientistDataLogEntity = new ScientistDataLogEntity();\n        universe.registerEntity(scientistDataLogEntity);\n\n        let spaceStationEntity = new SpaceStationEntity();\n        universe.registerEntity(spaceStationEntity);\n\n        //universe.dataLogs.add(DATA_LOG_BUGS_LOVE_HIGH_GRAVITY);\n        fillRandomizedDataLogs(universe);\n        //fillScanningRestrictions(universe);\n        fillDataLogCards(universe);\n        fillZoneCandidatesFromLogs(universe);\n        console.log(\"ZUPA\", universe);\n        fillDataLogExplorations(universe);\n        fillZonesBasedOnCandidates(universe);\n        console.log(\"ASD\", universe);\n\n        return universe;\n    }\n\n    countResource(resource) {\n        let provided = 0;\n        let required = 0;\n\n        for (let planet of this.planets) {\n            for (let zone of planet.surfaceZones) {\n                for (let planetResource of zone.providedResources) {\n                    if (planetResource === resource) {\n                        provided += 1;\n                    }\n                }\n\n                for (let planetResource of zone.requiredResources) {\n                    if (planetResource === resource) {\n                        required += 1;\n                    }\n                }\n            }\n        }\n        return {provided, required};\n    }\n\n    get fitness() {\n        let fitness = 100;\n\n        for (let resource of RESOURCES) {\n            let {required, provided} = this.countResource(resource);\n\n            let distance = Math.max(\n                0,\n                required * 2 - provided,\n            );\n\n            fitness -= distance;\n        }\n\n        return fitness;\n    }\n\n    matchingPlanets(filter) {\n        let possiblePlanets = [];\n\n        for (let planet of this.planets) {\n            if (filter.isAcceptable({planet, universe: this})) {\n                possiblePlanets.push(planet);\n            }\n        }\n\n        return possiblePlanets;\n    }\n\n    matchingZoneLocations(filter) {\n        let possibleZoneLocations = [];\n\n        for (let planet of this.planets) {\n            for (let zoneLocation of planet.matchingZoneLocations(filter)) {\n                if (!planet.getZone(zoneLocation)) {\n                    possibleZoneLocations.push([planet, zoneLocation]);\n                }\n            }\n        }\n\n        return possibleZoneLocations;\n    }\n\n    static save() {\n        localStorage.universe = Serialisation.serialize(this.theUniverse);\n    }\n\n    static load() {\n        if (!localStorage.universe)\n            return null;\n        Universe.theUniverse = Serialisation.deserialize(localStorage.universe);\n        Universe.notifyThatUniverseChanged();\n        return this.theUniverse;\n    }\n\n    static selectBestUniverse() {\n        console.log(\"Creating universe ...\");\n\n        let UNIVERSE_CANDIDATES = 1;\n        let candidates = [];\n\n        //\n        // Create candidates\n        //\n        for (let i = 0; i < UNIVERSE_CANDIDATES; i++) {\n            let candidate = Universe.create();\n            candidates.push(candidate);\n        }\n\n        //\n        // Sort candidates according to their fitness in descending order\n        //\n        candidates.sort(function (a, b) {\n            return (b.fitness - a.fitness);\n        });\n\n        console.log(\"Candidates\", candidates);\n\n        Universe.theUniverse = candidates[0];\n        Universe.notifyThatUniverseChanged();\n    }\n\n    static addTheUniverseListener(f) {\n        Universe.universeListeners.push(f);\n    }\n\n    static notifyThatUniverseChanged() {\n        this.save();\n\n        for (let l of this.universeListeners) {\n            l();\n        }\n    }\n}\n\nUniverse.theUniverse = null;\nUniverse.universeListeners = [];\n\nSerialisation.registerDynamicClass(Universe, \"Universe\");\n\nexport function fillZoneCandidatesWithDistribution({countFrequencies, explorationCreator, minTotal = 0, maxTotal, ...params}) {\n    let targetResourcesNum = getRandomInt(minTotal, maxTotal);\n    let counts = distributeCount(targetResourcesNum, countFrequencies);\n\n    for (let [stashSize, numOfStashes] of Object.entries(counts)) {\n        let exploration = explorationCreator(stashSize.count);\n        fillZoneCandidates({exploration, minTotal: numOfStashes, maxTotal: numOfStashes, ...params});\n    }\n}\n\nexport function fillZoneCandidates({universe, exploration, surfaceMinRatio = 0.0, surfaceMaxRatio = null, minTotal = 0, maxTotal = null, filter}) {\n    let numExplorations = 0;\n\n    let planetCounts = {};\n    let planetSurfaceMins = {};\n    let planetSurfaceMaxs = {};\n\n    //\n    // 1. Set planet counts, mins and maxes\n    //\n    for (let planet of universe.matchingPlanets(filter)) {\n        planetCounts[planet.id] = 0;\n        planetSurfaceMins[planet.id] = Math.ceil(planet.targetSize * surfaceMinRatio);\n        if (surfaceMaxRatio === null) {\n            planetSurfaceMaxs[planet.id] = null;\n        } else {\n            planetSurfaceMaxs[planet.id] = Math.max(planetSurfaceMins[planet.id], Math.floor(planet.targetSize * surfaceMaxRatio));\n        }\n    }\n\n    //\n    // 2. Make sure we have a surfaceMinRatio on all planets\n    //\n    for (let planet of universe.matchingPlanets(filter)) {\n        planetCounts[planet.id] = 0;\n\n        while (planetCounts[planet.id] < planetSurfaceMins[planet.id]) {\n\n            if (maxTotal !== null && numExplorations >= maxTotal) {\n                break;\n            }\n\n            planet.addSurfaceZoneCandidate({\n                exploration,\n                priority: ZONE_CANDIDATE_PRIORITY_MUST,\n                zoneTypes: filter.zoneTypes,\n            });\n\n            numExplorations += 1;\n            planetCounts[planet.id] += 1;\n        }\n    }\n\n    //\n    // 3. Make sure we have a surfaceMaxRatio on all planets\n    //\n    for (let planet of universe.matchingPlanets(filter)) {\n        if (planetSurfaceMaxs[planet.id] !== null) {\n            let targetZones = planetSurfaceMaxs[planet.id]; //getRandomInt(planetSurfaceMins[planet.id], planetSurfaceMaxs[planet.id]);\n\n            while (planetCounts[planet.id] < targetZones) {\n\n                if (maxTotal !== null && numExplorations >= maxTotal) {\n                    break;\n                }\n\n                planet.addSurfaceZoneCandidate({\n                    exploration,\n                    priority: numExplorations < minTotal ? ZONE_CANDIDATE_PRIORITY_MUST : ZONE_CANDIDATE_PRIORITY_FLEX,\n                    zoneTypes: filter.zoneTypes,\n                });\n\n                numExplorations += 1;\n                planetCounts[planet.id] += 1;\n            }\n        }\n    }\n\n    //\n    // 4. Make sure we met the minTotal (but don't attack the planets with maximum)\n    // 5. Randomize target total and add planets until we have it\n    //\n    let targetNumExplorations = (maxTotal !== null) ? getRandomInt(minTotal, maxTotal) : minTotal;\n    while (numExplorations < targetNumExplorations) {\n\n        //Randomize planets with most free space first ...\n        let possiblePlanets = universe.matchingPlanets(filter);\n        let possibleNotAtMax = possiblePlanets.filter(planet => planetSurfaceMaxs[planet.id] === null || planetCounts[planet.id] < planetSurfaceMaxs[planet.id]);\n\n        if (possibleNotAtMax.length === 0) {\n            break;\n        }\n\n        let possibleFreeWeights = possibleNotAtMax.map(planet => {\n            return { planet, weight: Math.max(0.1, planet.targetSize - planet.surfaceZoneCandidates.length) }\n        });\n\n        let planet = getWeightedRandomElement(possibleFreeWeights).planet;\n\n        planet.addSurfaceZoneCandidate({\n            exploration,\n            priority: numExplorations < minTotal ? ZONE_CANDIDATE_PRIORITY_MUST : ZONE_CANDIDATE_PRIORITY_FLEX,\n            zoneTypes: filter.zoneTypes\n        });\n\n        numExplorations += 1;\n        planetCounts[planet.id] += 1;\n    }\n\n\n    if (numExplorations < minTotal) {\n        console.error(\"Unable to reach minTotal\", numExplorations, targetNumExplorations, {exploration, surfaceMinRatio, surfaceMaxRatio, minTotal, maxTotal, filter});\n    }\n\n\n    if (maxTotal !== null && numExplorations > maxTotal) {\n        console.info(\"More than max total\", numExplorations, maxTotal);\n    }\n}","import React from 'react';\nimport {AR} from '../misc/AR';\nimport './Scanner.css';\nimport {Universe} from \"../game/Universe\";\nimport TauPrimeMenu from \"./TauPrimeMenu\";\nimport icon_menu from \"../data/icons/icon_menu.png\";\n\n//\n// Used for communication with the global AR camera\n//\n\nlet LOCKING_ID_MULTIPLE = \"LOCKING_ID_MULTIPLE\";\n\nlet SCANNER_MODE_LOCKING        = \"locking\";\nlet SCANNER_MODE_LOCKED         = \"locked\";\nlet SCANNER_MODE_FULLY_EXPLORED = \"explored\";\n\nclass DynamicOverlay extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            progress : 0.0,\n            image: null,\n        }\n    }\n\n    setProgress(progress, image) {\n        this.setState({progress: progress, image: image});\n    }\n\n    componentDidMount() {\n        this.props.onRef(this)\n    }\n    componentWillUnmount() {\n        this.props.onRef(undefined)\n    }\n\n    render() {\n        let percent = Math.floor(400+200*this.state.progress);\n        //alert(halfPercent);\n        return <div style={{\"background-position-y\": `calc(1rem - ${Math.floor(50*(1-this.state.progress))}vw)`, \"backgroundSize\": Math.floor(50*this.state.progress) + \"vw\", \"backgroundImage\": `url(\"${this.state.image}\")`, opacity: this.state.progress}} className=\"scanner-background\" />;\n    }\n}\n\nexport default class Scanner extends React.Component {\n    constructor(props) {\n        super(props);\n\n        AR.setEnabledCamera(true);\n\n        Scanner.COMPONENT = this;\n\n        this.dynamicOverlay = undefined;\n\n        this.state = {\n            lockingId: null,\n            mode: SCANNER_MODE_LOCKING,\n        };\n    }\n\n    componentDidMount() {\n\n        let currentId = null;\n\n        let presence = [];\n        for (let i = 0; i < AR.NUM_MARKERS; i++)\n            presence[i] = 0.0;\n\n\n        let periodicLogging = () => {\n            console.log(currentId, presence);\n            this.periodicLoggingTimeout = setTimeout(periodicLogging, 3000);\n        };\n        this.periodicLoggingTimeout = setTimeout(periodicLogging, 3000);\n\n        let lastTimeMsec = null;\n        let arTick = (nowMsec) => {\n            let i;\n            this.arTickTimeout = requestAnimationFrame(arTick);\n\n            //\n            // Measure time\n            //\n            lastTimeMsec = lastTimeMsec || nowMsec - 1000 / 60;\n            const deltaMsec = Math.min(200, nowMsec - lastTimeMsec);\n            lastTimeMsec = nowMsec;\n            let dt = deltaMsec / 1000;\n\n            //\n            // Boost visible markers\n            //\n            let markerVisibility = AR.getCurrentMarkerVisibility();\n            for (let i = 0; i < AR.NUM_MARKERS; i++) {\n                if (markerVisibility[i]) {\n                    presence[i] += 2.0 * dt;\n\n                    if (presence[i] > 1.0) {\n                        presence[i] = 1.0;\n                    }\n                } else {\n                    presence[i] -= 1.0 * dt;\n\n                    if (presence[i] < 0) {\n                        presence[i] = 0;\n                    }\n                }\n            }\n\n            //\n            // Select most visible markers\n            //\n            let maxPresence = 0.0;\n            let maxId = null;\n            for (let i = 0; i < AR.NUM_MARKERS; i++) {\n                if (presence[i] > maxPresence) {\n                    maxId = i;\n                    maxPresence = presence[i];\n                }\n            }\n\n            //\n            // If there are two similarily present, remove detection\n            //\n            let minDifference = 1.0;\n            if (maxId !== null) {\n                for (i = 0; i < AR.NUM_MARKERS; i++) {\n                    if (i !== maxId && maxPresence - presence[i] < minDifference) {\n                        minDifference = maxPresence - presence[i];\n                    }\n                }\n            } else {\n                minDifference = 0.0;\n            }\n\n            if (this.dynamicOverlay) {\n                let entity = Universe.theUniverse.entityForId(maxId);\n                this.dynamicOverlay.setProgress(minDifference / 0.9, entity ? entity.image : null);\n            }\n\n            if (maxId !== null && minDifference < 0.9) {\n                maxId = LOCKING_ID_MULTIPLE;\n            }\n\n            if (currentId !== maxId) {\n                this.setLockingId(maxId);\n                currentId = maxId;\n            }\n        };\n        this.arTickTimeout = requestAnimationFrame(arTick);\n    }\n\n    componentWillUnmount() {\n        clearTimeout(this.periodicLoggingTimeout);\n        cancelAnimationFrame(this.arTickTimeout);\n    }\n\n    setLockingId(lockingId) {\n\n        let mode = SCANNER_MODE_LOCKING;\n\n        if (lockingId !== null && lockingId !== LOCKING_ID_MULTIPLE && Universe.theUniverse.entityForId(lockingId)) {\n            mode = SCANNER_MODE_LOCKED;\n\n\n            let entity = Universe.theUniverse.entityForId(lockingId);\n\n            if (!entity.canBeSelected) {\n                mode = SCANNER_MODE_FULLY_EXPLORED;\n            }\n        }\n\n        console.log(\"locked\", lockingId, mode);\n        this.setState({\n            lockingId: lockingId,\n            mode: mode,\n        });\n\n        let entity = Universe.theUniverse.entityForId(lockingId);\n        if (entity && entity.canBeSelected)\n            this.selectEntity(lockingId);\n    }\n\n    selectEntity(objectId) {\n        console.log(\"Selecting\", objectId);\n        if (objectId !== null) {\n            AR.setEnabledCamera(false);\n            this.props.onObjectSelected(objectId);\n        } else {\n            AR.setEnabledCamera(true);\n            this.props.onObjectSelected(objectId);\n        }\n    }\n\n    render() {\n        let lockingInfo;\n\n        if (this.state.mode === SCANNER_MODE_LOCKING) {\n            lockingInfo = <h1>Scanning</h1>\n        } else if (this.state.mode === SCANNER_MODE_LOCKED) {\n            let entity = Universe.theUniverse.entityForId(this.state.lockingId);\n\n            lockingInfo = <React.Fragment>\n                <h1>{entity.name}</h1>\n                <img className=\"scanning-planet-image\"\n                     src={\"icons/icon_pattern_\" + this.state.lockingId + \".png\"}\n                     alt={this.state.lockingId}/>\n            </React.Fragment>\n        } else if (this.state.mode === SCANNER_MODE_FULLY_EXPLORED) {\n            let entity = Universe.theUniverse.entityForId(this.state.lockingId);\n\n            lockingInfo = <React.Fragment>\n                <h1>{entity.name}</h1>\n                <img className=\"scanning-planet-image\"\n                     src={\"icons/icon_pattern_\" + this.state.lockingId + \".png\"}\n                     alt={this.state.lockingId}/>\n                <h1>Fully Explored</h1>\n            </React.Fragment>\n        }\n\n        return <div className={\"scanner-overlay scanner-mode-\" + this.state.mode}\n                    onClick={() => {\n                        let canEnter = this.state.lockingId !== null &&\n                            Universe.theUniverse.entityForId(this.state.lockingId) &&\n                            Universe.theUniverse.entityForId(this.state.lockingId).canBeSelected;\n\n                        if (canEnter) this.selectEntity(this.state.lockingId)\n                    }}\n                >\n            <button\n                className=\"menu-button\"\n                onClick={() => this.props.onSetAction(\n                    <TauPrimeMenu newGame={this.props.onNewGame} setAction={this.props.onSetAction} />\n                )}>\n                <img src={icon_menu} alt=\"Menu\"/>\n            </button>\n            <div className=\"scanner-info\">\n                {lockingInfo}\n            </div>\n            <DynamicOverlay onRef={ref => (this.dynamicOverlay = ref)} />\n            <div className=\"scanner-static-background\" />\n        </div>\n\n    }\n}","import React from 'react';\nimport {speak} from \"../misc/Utils\";\nimport {Universe} from \"../game/Universe\";\nimport {serialize} from \"../misc/Serialisation\";\nimport {returnToScanner} from \"../game/Exploration\";\n\nexport default class UniverseInfo extends React.Component {\n    render() {\n        speak(\"Revealing universe definition ...\");\n\n        let universe = Universe.theUniverse;\n        console.log(universe.definition);\n        let planets = universe.planets.map((planet) => {\n            return <div key={planet.id}>{planet.name} (Target size: {planet.targetSize}) (Traits: {planet.traits.join()}) {\n                planet.surfaceZones.map((zone, i) => <div key={i}>{zone.name} {serialize(zone.exploration)} </div>)\n            }<br/><br/></div>;\n        });\n\n        return <div className=\"dialog\">\n            <div className=\"dialog-inner\">\n                <div className=\"dialog-content\">\n                    <h1>{Universe.theUniverse.name} universe</h1>\n                    <h3>Logs</h3>\n                    {Array.from(universe.dataLogs).map(log =>\n                        <div style={{float: \"left\"}} key={log.id}>\n                            Log {log.id}:<br/>\n                            {log.setIds.map((id) => <span key={id}> {id} </span>)}<br/>\n                            <img style={{width: \"100px\"}} src={log.image} alt={log.id} />\n                        </div>\n                    )}\n                    <h3 style={{clear: \"both\"}}>Planets</h3>\n                    {planets}\n                </div>\n                <div className=\"dialog-bottom\">\n                    <button onClick={() => returnToScanner()}>OK</button>\n                </div>\n            </div>\n        </div>\n    }\n}\n","import './EntityList.css';\nimport * as React from \"react\";\nimport {Universe} from \"../game/Universe\";\nimport {returnToScanner} from \"../game/Exploration\";\n\nexport default class EntityList extends React.Component {\n    render() {\n        let planets = this.props.entities.map((entity) => {\n            return <button className=\"planet-link\" key={entity.id} onClick={() => this.props.onSelectedEntity(entity.id)}>\n                <img src={entity.image} alt={entity.name} />\n            </button>;\n        });\n\n        return <div className=\"dialog\">\n            <div className=\"dialog-inner\">\n                <div className=\"dialog-content\">\n                    <div className=\"planet-list\">\n                        <h1>Select a planet:</h1>\n                        {planets}\n                    </div>\n                </div>\n                <div className=\"dialog-bottom\">\n                    <button className=\"not-important\" onClick={() => returnToScanner()}>Back</button>\n                </div>\n            </div>\n        </div>\n    }\n}\n","import React from 'react';\nimport App from './App';\nimport Scanner from './Scanner';\nimport UniverseInfo from './UniverseInfo';\nimport EntityList from './EntityList';\nimport {Universe} from \"../game/Universe\";\nimport {returnToScanner} from \"../game/Exploration\";\n\nexport default class TauPrimeMenu extends React.Component {\n    render() {\n        return <div className=\"dialog\">\n            <div className=\"dialog-inner\">\n                <div className=\"dialog-content\">\n                    <h1>Main Menu</h1>\n                    <p>Universe: {Universe.theUniverse.name}</p>\n                    <button onClick={() => this.props.setAction(<EntityList\n                        entities={Universe.theUniverse.entities}\n                        onSelectedEntity={(entityId) => {\n                            App.COMPONENT.setAction(null);\n                            Scanner.COMPONENT.selectEntity(entityId);\n                        }}/>)}>list</button>\n                    <button onClick={() => this.props.setAction(<UniverseInfo />)}>info</button>\n                    <button onClick={() => this.props.newGame()}>new game</button>\n                    <button className=\"not-important\" onClick={() => returnToScanner()}>back</button>\n                </div>\n                <div className=\"dialog-bottom\" />\n            </div>\n        </div>\n    }\n}","import React from 'react';\nimport {AR} from '../misc/AR';\nimport {Universe} from '../game/Universe';\nimport * as Utils from '../misc/Utils';\nimport './App.css';\nimport TauPrimeMenu from './TauPrimeMenu';\nimport Scanner from './Scanner';\nimport icon_menu from \"../data/icons/icon_menu.png\";\nimport {RESOURCES} from \"../game/Resource\";\n\nexport default class App extends React.Component {\n    constructor(props) {\n        super(props);\n\n        App.COMPONENT = this;\n\n        if (!Universe.load()) {\n            alert(\"New universe\");\n            Universe.selectBestUniverse();\n        } else {\n            console.log(\"Loaded universe\");\n        }\n\n        this.images = new Array();\n        for (let entity of Universe.theUniverse.entities) {\n            let image = new Image()\n            image.src = entity.image;\n        }\n\n        this.printUniverseInfo();\n\n        Universe.addTheUniverseListener(() => {\n            this.setState({universeUpdatedTrigger : this.state.universeUpdatedTrigger + 1});\n        });\n\n        this.state = {\n            universeUpdatedTrigger: 0,\n            currentlyDisplayedAction: null,\n        };\n    }\n\n    printUniverseInfo() {\n        console.log(\"Universe\", Universe.theUniverse);\n\n        let resources = {};\n\n        for (let resource of RESOURCES) {\n            resources[resource.name] = Universe.theUniverse.countResource(resource);\n        }\n\n        console.log(\"Resources\", resources);\n    }\n\n    selectObject(objectId) {\n        console.assert(objectId !== null);\n        let entity = Universe.theUniverse.entityForId(objectId);\n        console.log(\"selected\", objectId, entity);\n        entity.notifyThatWasSelected();\n    }\n\n    setAction(action) {\n        this.setState({currentlyDisplayedAction: action});\n\n        if (action !== null) {\n            AR.setEnabledCamera(false);\n        } else {\n            AR.setEnabledCamera(true);\n        }\n    }\n\n    newGame() {\n        console.log(\"New Game\");\n        Universe.selectBestUniverse();\n        Utils.speak(\"New universe\");\n        this.printUniverseInfo();\n        this.setAction(null);\n    }\n\n    render() {\n        if (this.state.currentlyDisplayedAction !== null) {\n            return this.state.currentlyDisplayedAction\n        } else {\n            return <Scanner\n                onObjectSelected={(objectId) => this.selectObject(objectId)}\n                onNewGame={() => this.newGame()}\n                onSetAction={(action) => this.setAction(action)}\n            />\n        }\n    }\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport * as serviceWorker from './misc/serviceWorker';\nimport {AR} from \"./misc/AR\"\n\nAR.initializeAR();\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();"],"sourceRoot":""}